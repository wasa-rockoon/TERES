{"version":3,"file":"js/app.1ef12f69.js","mappings":"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","sources":["webpack://telemeter/./src/App.vue","webpack://telemeter/./src/App.vue?7ccd","webpack://telemeter/./src/plugins/vuetify.ts","webpack://telemeter/./src/plugins/webfontloader.ts","webpack://telemeter/./src/settings.ts","webpack://telemeter/./src/library/packet.ts","webpack://telemeter/./src/library/api.ts","webpack://telemeter/./src/views/SystemListView.vue?53ad","webpack://telemeter/./src/views/SystemListView.vue","webpack://telemeter/./src/components/LoginModal.vue?2d9a","webpack://telemeter/./src/components/LoginModal.vue","webpack://telemeter/./src/views/SystemView.vue?70c6","webpack://telemeter/./src/views/SystemView.vue","webpack://telemeter/./src/library/datastore.ts","webpack://telemeter/./src/components/FlightSettings.vue?4b01","webpack://telemeter/./src/components/FlightSettings.vue","webpack://telemeter/./src/components/FlightTimeline.vue?c09e","webpack://telemeter/./src/components/FlightTimeline.vue","webpack://telemeter/./src/components/PacketList.vue?9c0c","webpack://telemeter/./src/components/PacketList.vue","webpack://telemeter/./src/components/ChartList.vue?d1a3","webpack://telemeter/./src/components/ChartList.vue","webpack://telemeter/./src/components/FlightMap.vue?8983","webpack://telemeter/./src/components/FlightMap.vue","webpack://telemeter/./src/components/VideoPlayer.vue?1341","webpack://telemeter/./src/components/VideoPlayer.vue","webpack://telemeter/./src/views/FlightView.vue?13ca","webpack://telemeter/./src/views/FlightView.vue","webpack://telemeter/./src/router/index.ts","webpack://telemeter/./src/main.ts","webpack://telemeter/webpack/bootstrap","webpack://telemeter/webpack/runtime/chunk loaded","webpack://telemeter/webpack/runtime/compat get default export","webpack://telemeter/webpack/runtime/create fake namespace object","webpack://telemeter/webpack/runtime/define property getters","webpack://telemeter/webpack/runtime/ensure chunk","webpack://telemeter/webpack/runtime/get javascript chunk filename","webpack://telemeter/webpack/runtime/get mini-css chunk filename","webpack://telemeter/webpack/runtime/global","webpack://telemeter/webpack/runtime/hasOwnProperty shorthand","webpack://telemeter/webpack/runtime/load script","webpack://telemeter/webpack/runtime/make namespace object","webpack://telemeter/webpack/runtime/publicPath","webpack://telemeter/webpack/runtime/jsonp chunk loading","webpack://telemeter/webpack/startup"],"sourcesContent":["<template>\n  <v-app>\n<!-- <nav> -->\n  <!--   <router-link to=\"/\">Home</router-link> | -->\n  <!--   <router-link to=\"/about\">About</router-link> -->\n  <!-- </nav> -->\n<router-view/>\n  </v-app>\n</template>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\nnav {\n  padding: 30px;\n}\n\nnav a {\n  font-weight: bold;\n  color: #2c3e50;\n}\n\nnav a.router-link-exact-active {\n  color: #42b983;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=04e3b862\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=04e3b862&lang=css\"\n\nimport exportComponent from \"/home/runner/work/TERES/TERES/telemeter/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// Styles\nimport '@mdi/font/css/materialdesignicons.css'\nimport 'vuetify/styles'\n\n// Vuetify\nimport { createVuetify } from 'vuetify'\n\nconst customTheme = {\n    dark: true,\n    colors: {\n        primary: '#2196F3',\n        background: '#121212',\n        surface: '#303030',\n        'primary-darken-1': '#00FF00',\n        secondary: '#0000FF',\n        'secondary-darken-1': '#FF0000',\n        info: '#29b6f6',\n        success: '#66bb6a',\n        error: '#f44336',\n        warning: '#ffa726',\n\n    }\n}\n\nexport default createVuetify({\n    theme: {\n        defaultTheme: 'customTheme',\n        themes: {\n            customTheme,\n        }\n    },\n    // icons: {\n    //   iconfont: 'mdi'\n    // }\n})\n","/**\n * plugins/webfontloader.js\n *\n * webfontloader documentation: https://github.com/typekit/webfontloader\n */\n\nexport async function loadFonts () {\n  const webFontLoader = await import(/* webpackChunkName: \"webfontloader\" */'webfontloader')\n\n  webFontLoader.load({\n    google: {\n      families: ['Roboto:100,300,400,500,700,900&display=swap'],\n    },\n  })\n}\n","\nexport const systemId = \"teres1\"\nexport const apiEndpoint = \"https://telemeter.fujiy.dev/api\"\nexport const wsEndpoint = \"wss://telemeter.fujiy.dev/api\"\nexport const apiEndpointDev = \"http://localhost:8888/api\"\nexport const wsEndpointDev = \"ws://localhost:8888/api\"\n// export const apiEndpointDev = \"https://telemeter.fujiy.dev/api\"\n// export const wsEndpointDev =  \"wss://telemeter.fujiy.dev/api\"\n\nexport const basePath = \"/TERES\"\n\nfunction formatLatOrLon(v: number): string {\n    const degrees = Math.trunc(v / 10000000)\n    const decimal = Math.abs(v) % 10000000\n    return `${degrees}.${decimal}`\n}\n\nexport const packetFormats : {[id: string] : any} = {\n    'A': {\n        name: 'Attitude',\n        entries: {\n            'Q': {\n                name: 'Quaternion',\n                datatype: 'float32',\n                index: ['x', 'y', 'z', 'w']\n            },\n            'A': {\n              name: 'Accel',\n                unit: 'm/s²',\n              datatype: 'float32',\n              index: ['x', 'y', 'z']\n            },\n            'g': {\n              name: 'Gyro',\n              unit: 'deg/s',\n              datatype: 'float32',\n              index: ['x', 'y', 'z']\n            },\n            'm': {\n              name: 'Mag',\n              unit: 'mT',\n              datatype: 'float32',\n              index: ['x', 'y', 'z']\n            },\n        },\n        timeout: 0.1,\n    },\n    'P': {\n        name: 'GPS',\n        entries: {\n            'O': {\n                name: 'Longitude',\n                unit: '°',\n                datatype: 'int32',\n                format: formatLatOrLon,\n            },\n            'A': {\n                name: 'Latitude',\n                unit: '°',\n                datatype: 'int32',\n                format: formatLatOrLon,\n            },\n            'H': {\n                name: 'Altitude',\n                unit: 'm',\n                datatype: 'float32'\n            },\n            'T': {\n                name: 'Time',\n                unit: 's',\n                datatype: 'uint32'\n            },\n            'S': {\n                name: 'Satellites',\n                datatype: 'int32',\n                warning: (n: number) => n < 4 && \"4 satellites needed\",\n            },\n        },\n        timeout: 1.0,\n    },\n    'C': {\n        name: 'TWELITE',\n        entries: {\n            'Q': { name: 'LQI', datatype: 'uint8' },\n            'S': { name: 'Sent',   datatype: 'uint32' },\n            'R': { name: 'Received',   datatype: 'uint32' },\n        },\n        timeout: 1.0,\n    },\n    'H': {\n        name: 'Air',\n        entries: {\n            'T': {\n                name: 'Temperature',\n                unit: '℃',\n                datatype: 'float32',\n                warning: (t: number) =>\n                    (t > 40 && 'Too hot') || (t < 10 && 'Too cold'),\n            },\n            'P': { name: 'Pressure',     unit: 'Pa',  datatype: 'float32' },\n            'A': { name: 'Presssure Alt', unit: 'm',  datatype: 'float32' },\n            'h': { name: 'Humidity',     unit: 'RH%', datatype: 'float32' },\n        },\n        timeout: 1.0,\n    },\n    'l': {\n        name: 'Logger',\n        entries: {\n            't': { name: 'Time', unit: 's', datatype: 'uint32' },\n            'w': { name: 'Wrote', datatype: 'uint32' },\n            'd': {\n                name: 'Dropped',\n                datatype: 'uint32',\n                warning: (n: number) => n > 0 && \"Some packets dropped\",\n            },\n        },\n        timeout: 1.0,\n    },\n\n}\n\nexport const packetList = [\n    {\n        from: 'R',\n        name: 'Rocket',\n        ids: ['A', 'P', 'H', 'C', 'l']\n    }\n]\n\nexport const charts = [\n    {\n        title: 'Altitude',\n        y: [['R', 'H', 'A'], ['R', 'P', 'H']],\n        yLabel: 'Altitude [m]',\n    },\n    {\n        title: 'Accelaraion',\n        y: [['R', 'A', 'A', 0], ['R', 'A', 'A', 1], ['R', 'A', 'A', 2]],\n        yLabel: 'Accelaration [m/s²]',\n    }\n]\n\nexport const mapPaths = [\n    {\n        from: 'R',\n        name: 'Rocket',\n        id: 'P',\n        lat: 'A',\n        lon: 'O',\n        color: '#4FC3F7',\n        markerColor: 'white',\n    },\n]\n","\nexport type Char = string\n\nexport type Version = 1 | 2 | 3\n\nexport class Payload {\n    raw: ArrayBuffer\n    view: DataView\n    size: number\n\n    constructor() {\n        this.raw = new ArrayBuffer(4)\n        this.view = new DataView(this.raw)\n        this.size = 0\n    }\n\n    get int8(): number {\n        return this.view.getInt8(0)\n    }\n    get int16(): number {\n        return this.view.getInt16(0, true)\n    }\n    get int32(): number {\n        return this.view.getInt32(0, true)\n    }\n    get uint8(): number {\n        return this.view.getUint8(0)\n    }\n    get uint16(): number {\n        return this.view.getUint16(0, true)\n    }\n    get uint32(): number {\n        return this.view.getUint32(0, true)\n    }\n    get float16(): number {\n        const value16: number = this.view.getUint16(0, true)\n        let value32: number\n\n        const sign: number = value16 >> 15\n        const exp: number = (value16 >> 10) & 0x1F\n        const frac: number = value16 & 0x03FF\n\n        if (exp == 0) {\n            if (frac == 0) value32 = sign << 31 // +- Zero\n            else value32 = (sign << 31) | (frac << 13) // Denormalized values\n        }\n        else if (exp == 0x1F) {\n            if (frac == 0) value32 = (sign << 31) | 0x7F800000 // +- Infinity\n            else value32 = (sign << 31) | (0xFF << 23) | (frac << 13) // (S/Q)NaN\n        }\n        // Normalized values\n        else value32 = (sign << 31) | ((exp - 15 + 127) << 23) | (frac << 13)\n\n        const buffer = new ArrayBuffer(4)\n        const view = new DataView(buffer)\n        view.setUint32(0, value32, true)\n        return view.getFloat32(0, true)\n    }\n    get float32(): number {\n        return this.view.getFloat32(0, true)\n    }\n    set int8(value: number) {\n        this.view.setUint32(0, 0, true)\n        this.view.setInt8(0, value)\n    }\n    set int16(value: number) {\n        this.view.setUint32(0, 0, true)\n        this.view.setInt16(0, value, true)\n    }\n    set int32(value: number) {\n        this.view.setInt32(0, value, true)\n    }\n    set uint8(value: number) {\n        this.view.setUint32(0, 0, true)\n        this.view.setUint8(0, value)\n    }\n    set uint16(value: number) {\n        this.view.setUint32(0, 0, true)\n        this.view.setUint16(0, value, true)\n    }\n\n    set uint32(value: number) {\n        this.view.setUint32(0, value, true)\n    }\n    set float16(value: number) {\n        const buffer = new ArrayBuffer(4)\n        const view = new DataView(buffer)\n        view.setFloat32(0, value, true)\n        const value32: number = view.getUint32(0, true)\n        let value16: number\n\n        const sign: number = value32 >> 31\n        const exp: number = (value32 >> 23) & 0xFF\n        const frac: number = value32 & 0x007FFFFF\n\n        if (exp == 0) {\n            if (frac == 0) value16 = sign << 15 // +- Zero\n            else value16 = (sign << 15) | (frac >> 13) // Denormalized values\n        }\n        else if (exp == 0xFF) {\n            if (frac == 0) value16 = (sign << 15) | 0x7C0 // +- Infinity\n            else value16 = (sign << 15) | (0x1F << 20) | (frac >> 13) // (S/Q)NaN\n        }\n        // Normalized values\n        else value16 = (sign << 15) |\n            (Math.max(Math.min(exp - 127 + 15, 0), 31) << 10) | (frac >> 13)\n\n        view.setUint16(0, value16, true)\n    }\n    set float32(value: number) {\n        this.view.setFloat32(0, value, true)\n    }\n}\n\nexport class Entry {\n    type: Char\n    payload: Payload\n\n    constructor() {\n        this.type = '@'\n        this.payload = new Payload()\n    }\n\n    encode(view: DataView): number {\n        let len\n\n        const raw = this.payload.view.getUint32(0, true)\n        let type = (this.type.charCodeAt(0) - 64) & 0b00111111\n\n        if (raw & 0xFFFF0000) {\n            len = 4\n            type |= 0b11000000\n            view.setUint32(1, raw, true)\n        }\n        else if (raw & 0xFF00) {\n            len = 2\n            type |= 0b10000000\n            view.setUint16(1, raw, true)\n        }\n        else if (raw & 0xFF) {\n            len = 1\n            type |= 0b01000000\n            view.setUint8(1, raw)\n        }\n        else {\n            len = 0\n        }\n\n        view.setUint8(0, type)\n\n        return len + 1\n    }\n\n    decode(view: DataView, version: Version = 3): number {\n        let len;\n        if (version < 3) {\n            this.type = String.fromCharCode(view.getUint8(0) & 0b01111111)\n            if (view.getUint8(0) & 0b10000000) len = 0\n            else len = 4\n        }\n        else {\n            this.type = String.fromCharCode(\n                (view.getUint8(0) & 0b00111111) + 64)\n            switch (view.getUint8(0) & 0b11000000) {\n                case 0b01000000:\n                    len = 1\n                    break\n                case 0b10000000:\n                    len = 2\n                    break\n                case 0b11000000:\n                    len = 4\n                    break\n                default:\n                    len = 0\n            }\n        }\n\n        switch (len) {\n            case 1:\n                this.payload.view.setUint8(0, view.getUint8(1))\n                break\n            case 2:\n                this.payload.view.setUint16(0, view.getUint16(1, true), true)\n                break\n            case 4:\n                this.payload.view.setUint32(0, view.getUint32(1, true), true)\n                break\n        }\n        this.payload.size = len\n\n        return 1 + len\n    }\n\n    formatNumber(f: any): number {\n        const value: number = (this.payload as any)[f.datatype]\n        if (f.formatNumber) return f.formatNumber(value)\n        else if (f.format) return Number(f.format(value))\n        else return value\n    }\n\n    format(f: any): string {\n        const value: number = (this.payload as any)[f.datatype]\n        if (f.format) return f.format(value)\n        else if (f.datatype == 'float16') return value.toPrecision(3)\n        else if (f.datatype == 'float32') return value.toPrecision(7)\n        else return String(value)\n    }\n}\n\nexport class Packet {\n    id?: Char\n    from?: Char\n    size: number\n    entries: Entry[]\n\n    constructor(id: Char | undefined, from: Char | undefined, size: any) {\n        this.id = id\n        this.from = from\n        this.size = size\n        this.entries = []\n    }\n\n    get(type: Char, index: number = 0): Entry | undefined {\n        let i = 0;\n        let prev_type = ''\n        for (const entry of this.entries) {\n            if (entry.type == prev_type) i++\n            else i = 0\n\n            if (entry.type == type && i == index) return entry\n\n            prev_type = entry.type\n        }\n        return undefined\n    }\n\n    getTime(): number | undefined {\n        if (this.entries.at(-1)?.type == 't') {\n            return this.entries.at(-1)?.payload.uint32\n        }\n        else return undefined\n    }\n\n    encode(view: DataView): number {\n        view.setUint8(0, this.id ? this.id.charCodeAt(0) : 0)\n        view.setUint8(1, this.from ? this.from.charCodeAt(0) : 0)\n        view.setUint8(2, this.size)\n\n        let i = 3;\n\n        for (const entry of this.entries) {\n            const buffer = new ArrayBuffer(5)\n            const entry_view = new DataView(buffer)\n            const len = entry.encode(entry_view)\n\n            view.setUint8(i, entry_view.getUint8(0))\n            view.setUint32(i + 1, entry_view.getUint32(1, true), true)\n\n            i += len\n        }\n        return i\n    }\n\n    static decode(view: DataView, version: Version = 3): Packet {\n        const id = view.getUint8(0) ?\n            String.fromCharCode(view.getUint8(0)) : undefined\n        const from = view.getUint8(1) ?\n            String.fromCharCode(view.getUint8(1)) : undefined\n        const size = view.getUint8(2)\n        const packet = new Packet(id, from, size)\n\n        let i = 3;\n\n        for (let n = 0; n < size; n++) {\n            const buffer = new ArrayBuffer(5)\n            const entry_view = new DataView(buffer)\n            entry_view.setUint8(0, view.getUint8(i))\n            entry_view.setUint32(1, view.getUint32(i + 1, true), true)\n            const entry = new Entry()\n            i += entry.decode(entry_view, version)\n            packet.entries.push(entry)\n        }\n\n        return packet\n    }\n\n    static async decodeLogFile(file: File, version: Version = 3)\n    : Promise<Packet[]> {\n        const buffer = await readFileAsArrayBuffer(file)\n\n        if (version < 2) {\n            return []\n        }\n        else {\n            return decodeCOBS(buffer, (buf) => {\n                return Packet.decode(new DataView(buf), version)\n            })\n        }\n    }\n}\n\n\nexport function readFileAsArrayBuffer(file: File): Promise<ArrayBuffer> {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => {\n            resolve(reader.result as ArrayBuffer);\n        };\n        reader.onerror = reject;\n        reader.readAsArrayBuffer(file);\n    })\n}\n\nexport function decodeCOBS<A>(buffer: ArrayBuffer, map: (buffer: ArrayBuffer) => A): A[] {\n    const result = []\n\n    const len = buffer.byteLength;\n\n    const encoded = new Uint8Array(buffer);\n\n    const decoded_buf = new ArrayBuffer(256);\n    const decoded = new Uint8Array(decoded_buf, 0, 256);\n\n    let next_zero = 0xFF;\n    let src = 0;\n    let rest = 0;\n    let dest = 0;\n\n    for (; src < len; src++, rest--) {\n        if (rest == 0) {\n            const zero = next_zero != 0xFF\n\n            next_zero = encoded[src];\n            rest = next_zero;\n            if (next_zero == 0) {\n                if (dest > 3) result.push(map(decoded_buf))\n\n                dest = 0;\n                next_zero = 0xFF;\n                rest = 1;\n            }\n            else if (zero) {\n                decoded[dest++] = 0;\n            }\n        }\n        else {\n            decoded[dest++] = encoded[src];\n        }\n    }\n\n    return result\n}\n","import axios from 'axios';\nimport * as settings from '@/settings'\nimport { Packet } from '@/library/packet'\n\nconst API_URL =\n    process.env.NODE_ENV == 'development'\n    ? settings.apiEndpointDev : settings.apiEndpoint\nconst WS_URL =\n    process.env.NODE_ENV == 'development'\n    ? settings.wsEndpointDev : settings.wsEndpoint\n\naxios.defaults.baseURL = API_URL;\naxios.defaults.headers.put['Content-Type'] = 'application/json;charset=utf-8';\naxios.defaults.headers.put['Access-Control-Allow-Origin'] = '*';\n\n\nexport interface Flight {\n    id: string,\n    name: string,\n    system: System | string,\n    startTime: Date,\n    launchTime: Date,\n    endTime?: Date,\n    data: any,\n}\n\nexport interface System {\n    id: string,\n    name: string,\n    activeFlight?: Flight,\n    client: string,\n}\n\nexport interface NewSystem {\n    id: string,\n    name: string,\n    password: string,\n    client: string,\n}\n\nclass API {\n    async getSystems(): Promise<System[]> {\n        const response = await axios.get<{ systems: System[] }>(`/systems/`)\n        return response.data.systems\n    }\n\n    async getSystem(systemId: string): Promise<System> {\n        const response = await axios.get<System>(\n            `/systems/${systemId}`,\n            { params: { password: localStorage.password} })\n        return response.data\n    }\n\n    async putSystem(system: NewSystem): Promise<System> {\n        const response = await axios.put<System>(\n            `/systems/${system.id}`, null, { params: system })\n        return response.data\n    }\n\n    async getFlights(systemId: string): Promise<Flight[]> {\n        const response = await axios.get<{flights: any[]}>(\n            `/systems/${systemId}/flights/`,\n            { params: { password: localStorage.password} })\n        return response.data.flights.map(this.makeFlight)\n    }\n\n\n    async getFlight(id: string): Promise<Flight> {\n        const response = await axios.get<Flight>(\n            `/flights/${id}`,\n            { params: { password: localStorage.password} })\n        return this.makeFlight(response.data)\n    }\n\n    async activateFlight(id: string): Promise<Flight> {\n        const response = await axios.put<Flight>(\n            `/flights/${id}`, null,\n            { params: {\n                password: localStorage.password,\n                activate: true\n            }\n            })\n        return this.makeFlight(response.data)\n    }\n\n    async putFlight(id: string, name: string,\n                    startTime?: Date, launchTime?: Date, endTime?: Date,\n                    data?: any)\n    : Promise<Flight> {\n        const response = await axios.put<Flight>(\n            `/flights/${id}`, null,\n            { params: {\n                password: localStorage.password,\n                name: name,\n                startTime: startTime || '',\n                launchTime: launchTime || '',\n                endTime: endTime || '',\n                data: JSON.stringify(data ?? {}),\n            }\n            })\n        return this.makeFlight(response.data)\n    }\n\n\n    async postFlight(systemId: string, name: string, startTime?: Date,\n                     endTime?: Date)\n    : Promise<Flight> {\n        const response = await axios.post<Flight>(\n            `/systems/${systemId}/flights/`, null,\n            { params: {\n                password: localStorage.password,\n                name: name,\n                startTime: startTime,\n                endTime: endTime,\n            }\n            })\n        return this.makeFlight(response.data)\n    }\n\n    async connect(flightId: string,\n                  source: string,\n                  startTime?: Date,\n                  endTime?: Date,\n                  callback?: PacketCallback)\n    : Promise<Connection> {\n        return new Connection(flightId, source, startTime, endTime, callback)\n            .open()\n    }\n\n\n\n    makeFlight(flight: any): Flight {\n        const flight_ = Object.assign({}, flight)\n        flight_.startTime = new Date(flight.startTime)\n        flight_.launchTime = new Date(flight.launchTime)\n        if (flight.endTime) flight_.endTime = new Date(flight.endTime)\n        flight_.data = {}\n        if (flight.data) flight_.data = JSON.parse(flight.data)\n        return flight_\n    }\n}\n\n\ntype PacketCallback =\n    (packets: {packet: Packet, time: Date, source: string }[]) => void\n\nconst MAX_UPDATE_PER_SECOND = 20\n\nclass Connection {\n    private socket?: WebSocket\n    private flightId: string\n    private source: string\n    private startTime?: Date\n    private endTime?: Date\n    private callback: PacketCallback\n    private timer?: any\n    private receivedPackets: { packet: Packet, time: Date, source: string }[]\n\n    constructor(flightId: string,\n                source: string,\n                startTime?: Date,\n                endTime?: Date,\n                callback?: PacketCallback) {\n        this.flightId = flightId\n        this.source = source\n        this.startTime = startTime\n        this.endTime = endTime\n        this.callback = callback ?? (() => {})\n        this.receivedPackets = []\n    }\n\n    async open(): Promise<Connection> {\n        return new Promise((resolve, reject) => {\n            const params = new URLSearchParams({\n                source: this.source,\n                password: localStorage.password,\n            })\n            if (this.startTime)\n                params.append('startTime', this.startTime.toISOString())\n            if (this.endTime)\n                params.append('endTime', this.endTime.toISOString())\n\n            this.socket = new WebSocket(\n                `${WS_URL}/flights/${this.flightId}/packets?${params.toString()}`)\n            this.socket.binaryType = \"arraybuffer\";\n\n            this.socket.onopen = e => {\n                resolve(this)\n            }\n            this.socket.onerror = e => {\n                console.error(e)\n                // this.open()\n            }\n            this.socket.onmessage = e => { this.onMessage(e) }\n            this.socket.onclose = e => {\n                console.log('closed', e)\n            }\n\n            this.timer = setInterval(() => {\n                if (this.receivedPackets.length > 0) {\n                    this.callback(this.receivedPackets)\n                    this.receivedPackets = []\n                }\n            }, 1000 / MAX_UPDATE_PER_SECOND)\n        })\n    }\n\n    send(packet: Packet, time: Date) {\n        const unixTime = time.getTime()\n        const buffer = new ArrayBuffer(256)\n        new DataView(buffer).setBigInt64(0, BigInt(unixTime), true)\n        const len = packet.encode(new DataView(buffer, 8))\n        this.socket?.send(new DataView(buffer, 0, 8 + len))\n    }\n\n    onMessage(e: any) {\n        if (e.data instanceof ArrayBuffer) {\n            const buffer = new ArrayBuffer(256)\n            new Uint8Array(buffer).set(new Uint8Array(e.data))\n            const unixTime =\n                Number(new DataView(buffer).getBigInt64(0, true))\n            const time = new Date(unixTime)\n            const source = String.fromCharCode.apply(\n                null, Array.from(new Uint8Array(buffer, 8, 8)))\n                .split('\\u0000')[0]\n            const packet = Packet.decode(new DataView(buffer, 16))\n\n            this.receivedPackets.push({packet, time, source})\n        }\n    }\n\n    close() {\n        this.socket?.close()\n        clearInterval(this.timer)\n    }\n}\n\n\nexport const api = new API()\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, mergeProps as _mergeProps, withModifiers as _withModifiers } from \"vue\"\n\nconst _hoisted_1 = { class: \"systemlist\" }\n\nimport axios from 'axios'\nimport { onMounted, reactive, ref } from 'vue'\nimport { api } from '@/library/api'\n\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SystemListView',\n  setup(__props) {\n\nconst systems = ref([])\nconst dialog = ref(false)\nconst form = ref(false)\nconst new_system = reactive({\n  id: null,\n  name: null,\n  password: null,\n  client: null,\n})\n\n\nonMounted(async () => {\n  systems.value = await api.getSystems()\n  console.log('systems', systems.value)\n})\n\nconst onRegisterNewSystem = async () => {\n  if (!form.value) return\n\n  dialog.value = false\n\n  const system = await api.putSystem(new_system)\n  systems.value.push(system)\n  localStorage.password = new_system.password\n  console.log('new system', new_system, system)\n}\nconst required = (v: any) => {\n  return !!v || 'Field is required'\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_app_bar_title = _resolveComponent(\"v-app-bar-title\")!\n  const _component_v_app_bar = _resolveComponent(\"v-app-bar\")!\n  const _component_v_img = _resolveComponent(\"v-img\")!\n  const _component_v_card_title = _resolveComponent(\"v-card-title\")!\n  const _component_v_card_subtitle = _resolveComponent(\"v-card-subtitle\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\")!\n  const _component_v_form = _resolveComponent(\"v-form\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_v_main = _resolveComponent(\"v-main\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_v_app_bar, {\n      color: \"primary\",\n      height: \"40\",\n      elevation: \"10\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_v_app_bar_title, null, {\n          default: _withCtx(() => [\n            _createTextVNode(\"Systems\")\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_v_main, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_v_container, {\n          fluid: \"\",\n          class: \"d-flex flex-wrap justify-center\"\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(systems.value, (system) => {\n              return (_openBlock(), _createBlock(_component_v_card, {\n                width: \"400\",\n                key: system.id,\n                href: system.client,\n                elevation: \"6\",\n                class: \"ma-2\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_img, {\n                    src: system.client + 'image',\n                    height: \"200\"\n                  }, null, 8, [\"src\"]),\n                  _createVNode(_component_v_card_title, { class: \"text-h5\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(system.name), 1)\n                    ]),\n                    _: 2\n                  }, 1024),\n                  _createVNode(_component_v_card_subtitle, null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(system.id), 1)\n                    ]),\n                    _: 2\n                  }, 1024),\n                  _createVNode(_component_v_card_text)\n                ]),\n                _: 2\n              }, 1032, [\"href\"]))\n            }), 128))\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_v_row, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_dialog, {\n              modelValue: dialog.value,\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((dialog).value = $event)),\n              width: \"auto\"\n            }, {\n              activator: _withCtx(({ props }) => [\n                _createVNode(_component_v_col, null, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_btn, _mergeProps({\n                      icon: \"mdi-plus\",\n                      color: \"primary\"\n                    }, props), null, 16)\n                  ]),\n                  _: 2\n                }, 1024)\n              ]),\n              default: _withCtx(() => [\n                _createVNode(_component_v_card, {\n                  class: \"px-10\",\n                  width: \"600\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_card_title, { class: \"my-5\" }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\" Register New System \")\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_form, {\n                      modelValue: form.value,\n                      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((form).value = $event)),\n                      onSubmit: _withModifiers(onRegisterNewSystem, [\"prevent\"])\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_text_field, {\n                          modelValue: new_system.id,\n                          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((new_system.id) = $event)),\n                          label: \"ID\",\n                          rules: [required]\n                        }, null, 8, [\"modelValue\", \"rules\"]),\n                        _createVNode(_component_v_text_field, {\n                          modelValue: new_system.name,\n                          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((new_system.name) = $event)),\n                          label: \"Name\",\n                          rules: [required]\n                        }, null, 8, [\"modelValue\", \"rules\"]),\n                        _createVNode(_component_v_text_field, {\n                          modelValue: new_system.password,\n                          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((new_system.password) = $event)),\n                          label: \"Password\",\n                          type: \"password\",\n                          rules: [required]\n                        }, null, 8, [\"modelValue\", \"rules\"]),\n                        _createVNode(_component_v_text_field, {\n                          modelValue: new_system.client,\n                          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((new_system.client) = $event)),\n                          label: \"Client URL\"\n                        }, null, 8, [\"modelValue\"]),\n                        _createVNode(_component_v_card_actions, null, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_spacer),\n                            _createVNode(_component_v_btn, {\n                              color: \"primary\",\n                              onClick: _cache[4] || (_cache[4] = ($event: any) => (dialog.value = false))\n                            }, {\n                              default: _withCtx(() => [\n                                _createTextVNode(\"Cancel\")\n                              ]),\n                              _: 1\n                            }),\n                            _createVNode(_component_v_btn, {\n                              color: \"primary\",\n                              disabled: !form.value,\n                              type: \"submit\"\n                            }, {\n                              default: _withCtx(() => [\n                                _createTextVNode(\" Register \")\n                              ]),\n                              _: 1\n                            }, 8, [\"disabled\"])\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }, 8, [\"modelValue\", \"onSubmit\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"modelValue\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","import script from \"./SystemListView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SystemListView.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, mergeProps as _mergeProps, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers } from \"vue\"\n\nimport { ref } from 'vue';\nimport { api } from '../library/api'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LoginModal',\n  props: ['system'],\n  emits: ['login'],\n  setup(__props, { emit }) {\n\nconst p = __props;\n\nconst dialog = ref(false)\nconst form = ref(false)\nconst password = ref('')\n\n\n\n\n\n\nconst onLogin = async () => {\n  if (!form.value) return\n\n  localStorage.password = password.value\n  dialog.value = false\n\n  const system = await api.getSystem(p.system.id)\n  emit('login', system)\n}\n\nconst required = (v: any) => {\n  return !!v || 'Password is required'\n}\n\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card_title = _resolveComponent(\"v-card-title\")!\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\")!\n  const _component_v_form = _resolveComponent(\"v-form\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_v_dialog, {\n    modelValue: dialog.value,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((dialog).value = $event)),\n    width: \"auto\"\n  }, {\n    activator: _withCtx(({ props }) => [\n      (!(p.system?.admin))\n        ? (_openBlock(), _createBlock(_component_v_btn, _mergeProps({\n            key: 0,\n            icon: \"mdi-lock\"\n          }, props), null, 16))\n        : _createCommentVNode(\"\", true),\n      (p.system?.admin)\n        ? (_openBlock(), _createBlock(_component_v_btn, _mergeProps({\n            key: 1,\n            icon: \"mdi-check\"\n          }, props), null, 16))\n        : _createCommentVNode(\"\", true)\n    ]),\n    default: _withCtx(() => [\n      _createVNode(_component_v_card, {\n        class: \"px-10\",\n        width: \"600\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_card_title, { class: \"my-5\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Login with Password \")\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_v_form, {\n            modelValue: form.value,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((form).value = $event)),\n            onSubmit: _withModifiers(onLogin, [\"prevent\"])\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_text_field, {\n                modelValue: password.value,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((password).value = $event)),\n                label: \"Password\",\n                type: \"password\",\n                rules: [required]\n              }, null, 8, [\"modelValue\", \"rules\"]),\n              _createVNode(_component_v_card_actions, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_spacer),\n                  _createVNode(_component_v_btn, {\n                    color: \"primary\",\n                    disabled: !form.value,\n                    type: \"submit\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\" Login \")\n                    ]),\n                    _: 1\n                  }, 8, [\"disabled\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"modelValue\", \"onSubmit\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","import script from \"./LoginModal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./LoginModal.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, unref as _unref, mergeProps as _mergeProps, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createSlots as _createSlots, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"system\" }\nconst _hoisted_2 = { class: \"my-5\" }\n\nimport { reactive, ref, onMounted, inject, computed } from 'vue';\nimport { useRouter } from 'vue-router'\nimport axios from 'axios';\nimport VueDatePicker from '@vuepic/vue-datepicker';\nimport '@vuepic/vue-datepicker/dist/main.css'\nimport { System, Flight, api } from '../library/api'\nimport { Packet } from '../library/packet'\nimport LoginModal from '../components/LoginModal'\n\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SystemView',\n  setup(__props) {\n\nconst system = ref<System | undefined>(undefined)\nconst flights = reactive<Flight[]>([])\n\nconst activeFlight = computed<Flight | undefined>(() => {\n  return flights.find(f => !f.endTime)\n})\nconst pastFlights = computed<Flight[]>(() => {\n  return flights.filter(f => f.endTime)\n})\n\nconst login = reactive({\n  dialog: false,\n  form: false,\n  password: null,\n})\nconst newFlight = reactive({\n  dialog: false,\n  form: false,\n  name: \"New Flight\",\n})\nconst upload = reactive({\n  dialog: false,\n  form: false,\n  name: null,\n  source: 'log',\n  startTime: new Date(),\n  file: null,\n  version: 'v3',\n  origin: '',\n})\n\nconst router = useRouter()\n\nonMounted(async () => {\n  const systemId: string = inject('systemId')\n  try {\n    system.value = await api.getSystem(systemId)\n    console.log('system', system.value)\n\n    const allFlights = await api.getFlights(systemId)\n    for (const flight of allFlights) {\n      flights.push(flight)\n    }\n    console.log('flights', allFlights)\n  } catch (e) {\n    console.log('unknown system', systemId, e)\n    router.push('/systems')\n  }\n})\n\nconst onLogin = (newSystem) => {\n  system.value = newSystem\n}\n\n\nconst onNewFlight = async () => {\n  if (!newFlight.name) return\n\n  console.log(newFlight.name)\n  newFlight.dialog = false\n\n  const flight = await api.postFlight(system.value.id, newFlight.name, true)\n  console.log('new flight', flight)\n\n  if (system.value?.activeFlight)\n    flights.push(system.value?.activeFlight)\n  if (system.value) system.value.activeFlight = flight\n}\n\nconst onUpload = async () => {\n  console.log('file', upload.file)\n  if (!upload.file) return\n\n  upload.dialog = false\n\n  const version = {'v1': 1, 'v2': 2, 'v3': 3}[upload.version]\n  const packets = await Packet.decodeLogFile(upload.file[0], version)\n\n  for (const packet of packets) {\n    packet.from = packet.from ?? upload.origin\n  }\n\n  if (packets.length == 0) return\n\n  const flight = await api.postFlight(\n    system.value.id, upload.name, upload.startTime,\n    new Date(upload.startTime.getTime() + packets.at(-1)?.getTime()))\n\n  console.log('new flight', flight)\n  flights.push(flight)\n\n  const connection = await api.connect(flight.id, upload.source)\n\n  for (const packet of packets) {\n    connection.send(packet,\n                    new Date(upload.startTime.getTime() + packet.getTime()))\n  }\n  connection.close()\n}\n\nconst deactivateFlight = async (flight: Flight) => {\n  const newFlight = await api.putFlight(flight.id, flight.name, flight.startTime,\n                                  flight.launchTime, new Date(), flight.data)\n  flights.value = flights.map(f => f.id == newFlight.id ? newFlight : f)\n  console.log(flights)\n}\n\nconst reactivateFlight = async (flight: Flight) => {\n  const newFlight = await api.activateFlight(flight.id)\n  flights.value = flights.map(f => f.id == newFlight.id ? newFlight : f)\n  console.log(flights)\n}\n\nconst required = (v: any) => {\n  return !!v || 'Field is required'\n}\n\nconst sourceName = (v: string) => {\n  return v.length <= 8 || 'Length of source name must be smaller than 8'\n}\n\nconst charactor = (v: string) => {\n  return v.length <= 1 || 'Origin id must be a charactor'\n}\n\n\nconst showDatetime = (str: string) => {\n  if (!str) return \"\"\n  const date = new Date(str)\n  return date.toLocaleString()\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_app_bar_title = _resolveComponent(\"v-app-bar-title\")!\n  const _component_v_app_bar = _resolveComponent(\"v-app-bar\")!\n  const _component_v_list_subheader = _resolveComponent(\"v-list-subheader\")!\n  const _component_v_card_title = _resolveComponent(\"v-card-title\")!\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\")!\n  const _component_v_form = _resolveComponent(\"v-form\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_list_item_title = _resolveComponent(\"v-list-item-title\")!\n  const _component_v_list_item_subtitle = _resolveComponent(\"v-list-item-subtitle\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_divider = _resolveComponent(\"v-divider\")!\n  const _component_v_file_input = _resolveComponent(\"v-file-input\")!\n  const _component_v_select = _resolveComponent(\"v-select\")!\n  const _component_v_list = _resolveComponent(\"v-list\")!\n  const _component_v_main = _resolveComponent(\"v-main\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_v_app_bar, {\n      color: \"primary\",\n      height: \"40\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_v_btn, {\n          icon: \"mdi-arrow-left\",\n          to: '/systems'\n        }),\n        _createVNode(_component_v_app_bar_title, null, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(system.value?.name), 1)\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(LoginModal), {\n          system: system.value,\n          onLogin: onLogin\n        }, null, 8, [\"system\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_v_main, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_v_card, { class: \"ma-10\" }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_list, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_row, { class: \"d-flex justify-space-between ma-0\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_list_subheader, null, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\" Active Flight \")\n                      ]),\n                      _: 1\n                    }),\n                    (system.value?.admin)\n                      ? (_openBlock(), _createBlock(_component_v_dialog, {\n                          key: 0,\n                          modelValue: newFlight.dialog,\n                          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((newFlight.dialog) = $event)),\n                          width: \"auto\"\n                        }, {\n                          activator: _withCtx(({ props }) => [\n                            _createVNode(_component_v_btn, _mergeProps(props, {\n                              variant: \"outlined\",\n                              color: \"primary\",\n                              class: \"ma-2\",\n                              \"prepend-icon\": \"mdi-rocket-launch\"\n                            }), {\n                              default: _withCtx(() => [\n                                _createTextVNode(\" New Flight \")\n                              ]),\n                              _: 2\n                            }, 1040)\n                          ]),\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card, {\n                              class: \"px-10\",\n                              width: \"600\"\n                            }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_card_title, { class: \"my-5\" }, {\n                                  default: _withCtx(() => [\n                                    _createTextVNode(\" Start New Flight \")\n                                  ]),\n                                  _: 1\n                                }),\n                                _createVNode(_component_v_form, {\n                                  modelValue: newFlight.form,\n                                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((newFlight.form) = $event)),\n                                  onSubmit: _withModifiers(onNewFlight, [\"prevent\"])\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_v_text_field, {\n                                      modelValue: newFlight.name,\n                                      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((newFlight.name) = $event)),\n                                      label: \"Name\",\n                                      rules: [required]\n                                    }, null, 8, [\"modelValue\", \"rules\"]),\n                                    _createVNode(_component_v_card_actions, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_spacer),\n                                        _createVNode(_component_v_btn, {\n                                          color: \"primary\",\n                                          onClick: _cache[1] || (_cache[1] = ($event: any) => (newFlight.dialog = false))\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(\" Cancel\")\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_btn, {\n                                          color: \"primary\",\n                                          disabled: !newFlight.name,\n                                          type: \"submit\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(\" Start \")\n                                          ]),\n                                          _: 1\n                                        }, 8, [\"disabled\"])\n                                      ]),\n                                      _: 1\n                                    })\n                                  ]),\n                                  _: 1\n                                }, 8, [\"modelValue\", \"onSubmit\"])\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        }, 8, [\"modelValue\"]))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _: 1\n                }),\n                (_unref(activeFlight))\n                  ? (_openBlock(), _createBlock(_component_v_list_item, {\n                      key: 0,\n                      to: '/flight?id=' + _unref(activeFlight).id\n                    }, _createSlots({\n                      prepend: _withCtx(() => [\n                        _createVNode(_component_v_icon, {\n                          icon: \"mdi-rocket-launch\",\n                          color: \"primary\"\n                        })\n                      ]),\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_list_item_title, {\n                          textContent: _toDisplayString(_unref(activeFlight).name)\n                        }, null, 8, [\"textContent\"]),\n                        _createVNode(_component_v_list_item_subtitle, null, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(showDatetime(_unref(activeFlight).startTime)) + \" ~ \" + _toDisplayString(showDatetime(_unref(activeFlight).endTime)), 1)\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 2\n                    }, [\n                      (system.value?.admin)\n                        ? {\n                            name: \"append\",\n                            fn: _withCtx(() => [\n                              _createVNode(_component_v_btn, {\n                                icon: \"mdi-location-exit\",\n                                onClick: _cache[4] || (_cache[4] = _withModifiers(($event: any) => (deactivateFlight(_unref(activeFlight))), [\"stop\",\"prevent\"]))\n                              })\n                            ]),\n                            key: \"0\"\n                          }\n                        : undefined\n                    ]), 1032, [\"to\"]))\n                  : _createCommentVNode(\"\", true),\n                _createVNode(_component_v_divider, { inset: \"\" }),\n                _createVNode(_component_v_row, { class: \"d-flex justify-space-between ma-0\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_list_subheader, null, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\" Past Flights \")\n                      ]),\n                      _: 1\n                    }),\n                    (system.value?.admin)\n                      ? (_openBlock(), _createBlock(_component_v_dialog, {\n                          key: 0,\n                          modelValue: upload.dialog,\n                          \"onUpdate:modelValue\": _cache[13] || (_cache[13] = ($event: any) => ((upload.dialog) = $event)),\n                          width: \"auto\"\n                        }, {\n                          activator: _withCtx(({ props }) => [\n                            _createVNode(_component_v_btn, _mergeProps(props, {\n                              variant: \"outlined\",\n                              color: \"primary\",\n                              class: \"ma-2\",\n                              \"prepend-icon\": \"mdi-cloud-upload\"\n                            }), {\n                              default: _withCtx(() => [\n                                _createTextVNode(\" Upload Log File \")\n                              ]),\n                              _: 2\n                            }, 1040)\n                          ]),\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card, {\n                              class: \"px-10\",\n                              width: \"600\",\n                              \"min-height\": \"700\"\n                            }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_card_title, { class: \"my-5\" }, {\n                                  default: _withCtx(() => [\n                                    _createTextVNode(\" Upload Log File \")\n                                  ]),\n                                  _: 1\n                                }),\n                                _createVNode(_component_v_form, {\n                                  modelValue: upload.form,\n                                  \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event: any) => ((upload.form) = $event)),\n                                  onSubmit: _withModifiers(onUpload, [\"prevent\"])\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_v_text_field, {\n                                      modelValue: upload.name,\n                                      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((upload.name) = $event)),\n                                      label: \"Name\",\n                                      rules: [required]\n                                    }, null, 8, [\"modelValue\", \"rules\"]),\n                                    _createElementVNode(\"div\", _hoisted_2, [\n                                      _createTextVNode(\" Start Date \"),\n                                      _createVNode(_unref(VueDatePicker), {\n                                        modelValue: upload.startTime,\n                                        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((upload.startTime) = $event)),\n                                        \"enable-seconds\": \"\",\n                                        dark: \"\"\n                                      }, null, 8, [\"modelValue\"])\n                                    ]),\n                                    _createVNode(_component_v_file_input, {\n                                      label: \"File input\",\n                                      modelValue: upload.file,\n                                      \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((upload.file) = $event)),\n                                      \"show-size\": \"\",\n                                      \"prepend-icon\": \"mdi-file\"\n                                    }, null, 8, [\"modelValue\"]),\n                                    _createVNode(_component_v_select, {\n                                      modelValue: upload.version,\n                                      \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((upload.version) = $event)),\n                                      label: \"Log file version\",\n                                      items: ['v1', 'v2', 'v3']\n                                    }, null, 8, [\"modelValue\"]),\n                                    _createVNode(_component_v_text_field, {\n                                      modelValue: upload.source,\n                                      \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((upload.source) = $event)),\n                                      label: \"Source name\",\n                                      rules: [required, sourceName]\n                                    }, null, 8, [\"modelValue\", \"rules\"]),\n                                    _createVNode(_component_v_text_field, {\n                                      modelValue: upload.origin,\n                                      \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((upload.origin) = $event)),\n                                      label: \"Default origin\",\n                                      rules: [charactor]\n                                    }, null, 8, [\"modelValue\", \"rules\"]),\n                                    _createVNode(_component_v_card_actions, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_spacer),\n                                        _createVNode(_component_v_btn, {\n                                          color: \"primary\",\n                                          onClick: _cache[11] || (_cache[11] = ($event: any) => (upload.dialog = false))\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(\" Cancel\")\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_btn, {\n                                          color: \"primary\",\n                                          disabled: !upload.form,\n                                          type: \"submit\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(\" Upload \")\n                                          ]),\n                                          _: 1\n                                        }, 8, [\"disabled\"])\n                                      ]),\n                                      _: 1\n                                    })\n                                  ]),\n                                  _: 1\n                                }, 8, [\"modelValue\", \"onSubmit\"])\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        }, 8, [\"modelValue\"]))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _: 1\n                }),\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(pastFlights), (flight) => {\n                  return (_openBlock(), _createBlock(_component_v_list_item, {\n                    key: flight.name,\n                    to: '/flight?id=' + flight.id\n                  }, _createSlots({\n                    prepend: _withCtx(() => [\n                      _createVNode(_component_v_icon, { icon: \"mdi-rocket\" })\n                    ]),\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_list_item_title, {\n                        textContent: _toDisplayString(flight.name)\n                      }, null, 8, [\"textContent\"]),\n                      _createVNode(_component_v_list_item_subtitle, null, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(showDatetime(flight.startTime)) + \" ~ \" + _toDisplayString(showDatetime(flight.endTime)), 1)\n                        ]),\n                        _: 2\n                      }, 1024)\n                    ]),\n                    _: 2\n                  }, [\n                    (system.value?.admin)\n                      ? {\n                          name: \"append\",\n                          fn: _withCtx(() => [\n                            _createVNode(_component_v_btn, {\n                              icon: \"mdi-location-enter\",\n                              onClick: _withModifiers(($event: any) => (reactivateFlight(flight)), [\"stop\",\"prevent\"])\n                            }, null, 8, [\"onClick\"])\n                          ]),\n                          key: \"0\"\n                        }\n                      : undefined\n                  ]), 1032, [\"to\"]))\n                }), 128))\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","import script from \"./SystemView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SystemView.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import * as dfd from \"danfojs\"\n\nimport { Flight } from './api'\nimport { Packet, Char } from './packet'\nimport * as settings from '../settings'\n\nexport class DataStore {\n    flight: Flight\n\n    dataseries: { [from: Char]: { [id: Char]: DataSeries } }\n\n    get startTime(): Date { return this.flight.startTime }\n    get launchTime(): Date { return this.flight.launchTime }\n    get endTime(): Date | undefined { return this.flight.endTime }\n\n    get startT(): number { return this.time2t(this.startTime) }\n    get launchT(): number { return this.time2t(this.launchTime) }\n    get endT(): number | undefined {\n        return this.endTime && this.time2t(this.endTime)\n    }\n    get nowT(): number {\n        return this.time2t(new Date())\n    }\n\n    get earliestT(): number | undefined {\n        const min = Math.min.apply(\n            null,\n            this.mapDataseries(d => d.earliest?.t).filter(t => t) as number[]\n        )\n        if (isFinite(min)) return min\n        else return undefined\n    }\n\n    get latestT(): number | undefined {\n        const max = Math.max.apply(\n            null,\n            this.mapDataseries(d => d.latest?.t).filter(t => t) as number[]\n        )\n        if (isFinite(max)) return max\n        else return undefined\n    }\n\n    mapDataseries<A>(f: (dataseries: DataSeries) => A): A[] {\n        return Object.values(this.dataseries).flatMap(ds =>\n            Object.values(ds).map(f)\n        )\n    }\n\n    constructor(flight: Flight) {\n        this.flight = flight\n        this.dataseries = {}\n    }\n\n    getBy(from: Char, id: Char): DataSeries {\n        if (!this.dataseries[from]) this.dataseries[from] = {}\n        if (!this.dataseries[from][id])\n            this.dataseries[from][id] = new DataSeries(this, from, id)\n        return this.dataseries[from][id]\n    }\n\n    addPackets(packets: { packet: Packet, time: Date, source: string }[]) {\n        const packetsByFromAndId: {[from: Char]: {[id: Char]:\n                                                  { packet: Packet,\n                                                    time: Date,\n                                                    source: string }[]}} = {}\n        for (const p of packets) {\n            if (!p.packet.from || !p.packet.id) continue\n            if (!packetsByFromAndId[p.packet.from])\n                packetsByFromAndId[p.packet.from] = {}\n            if (!packetsByFromAndId[p.packet.from][p.packet.id])\n                packetsByFromAndId[p.packet.from][p.packet.id] = []\n            packetsByFromAndId[p.packet.from][p.packet.id].push(p)\n        }\n        for (const [from, packetsById] of Object.entries(packetsByFromAndId)) {\n            if (!this.dataseries[from]) this.dataseries[from] = {}\n\n            for (const [id, packets] of Object.entries(packetsById)) {\n                if (!this.dataseries[from][id])\n                    this.dataseries[from][id] = new DataSeries(this, from, id)\n\n                this.dataseries[from][id].addPackets(packets.map((p: any) => {\n                    p.unixTime = p.time.getTime()\n                    return p\n                }))\n            }\n        }\n    }\n\n    showT(t: number): string {\n        const t_ = Math.abs(t)\n        let text = 'T'\n        if (t >= 0) text += '+'\n        else text += '-'\n        const millis = Math.round(t_ * 1000) % 1000\n        const seconds = Math.floor(t_) % 60\n        const minutes = Math.floor(t_ / 60) % 60\n        const hours = Math.floor(t_ / 60 / 60) % 24\n        const days = Math.floor(t_ / 60 / 60 / 24)\n        if (days > 0) text += days.toString() + ' '\n        if (hours > 0) text += hours.toString().padStart(2, '0') + ':'\n        text += minutes.toString().padStart(2, '0') + ':'\n        text += seconds.toString().padStart(2, '0') + '.'\n        text += millis.toString().padStart(3, '0')\n        return text\n    }\n\n\n    time2t(time: Date): number {\n        return Math.floor(time.getTime() - this.flight.launchTime.getTime())\n            / 1000.0\n    }\n\n    t2time(t: number): Date {\n        return new Date((this.flight.launchTime.getTime() / 1000.0 + t) * 1000.0)\n    }\n}\n\nexport interface PacketInfo {\n    id: Char\n    packet?: Packet\n    t?: number\n    source?: string\n    format: any\n    count: number\n}\n\nexport class DataSeries {\n    datastore: DataStore\n    from: Char\n    id: Char\n    format: any\n\n    private data: { packet: Packet, unixTime: number, source: string }[]\n    private times: number[]\n    private values: {[type: Char] : number[][]}\n\n    private sourceAvailables: {[source: string] : boolean}\n    private cursor: number\n\n    get sources(): string[] {\n        return Object.keys(this.sourceAvailables)\n    }\n\n    get earliest(): PacketInfo {\n        let p = undefined\n        if (this.data.length > 0) p = this.data.at(0)\n        return {\n            id: this.id,\n            packet: p && p.packet,\n            t: p && this.datastore.time2t(new Date(p.unixTime)),\n            source: p && p.source,\n            format: this.format,\n            count: p ? 1 : 0\n        }\n    }\n\n    get latest(): PacketInfo {\n        let p = undefined\n        if (this.data.length > 0) p = this.data.at(-1)\n        return {\n            id: this.id,\n            packet: p && p.packet,\n            t: p && this.datastore.time2t(new Date(p.unixTime)),\n            source: p && p.source,\n            format: this.format,\n            count: this.data.length\n        }\n    }\n\n\n    constructor(datastore: DataStore, from: Char, id: Char) {\n        this.datastore = datastore\n        this.from = from\n        this.id = id\n        this.format = settings.packetFormats[id]\n        this.data = []\n        this.sourceAvailables = {}\n        this.cursor = 0\n        this.times = []\n        this.values = {}\n        for (const type of Object.keys(this.format?.entries ?? {})) {\n            this.values[type] =\n                new Array(this.format.entries[type]?.index?.length ?? 1)\n                    .fill(0).map(() => [])\n        }\n    }\n\n    at(time: Date): PacketInfo {\n        const index = this.searchIndex(time.getTime())\n        let p = undefined\n        if (index >= 0) p = this.data[index]\n\n        return {\n            id: this.id,\n            packet: p && p.packet,\n            t: p && this.datastore.time2t(new Date(p.unixTime)),\n            source: p && p.source,\n            format: this.format,\n            count: p ? index + 1 : 0\n        }\n    }\n\n    getTimes(t_min?: number, t_max?: number, maxPoints?: number): number[] {\n        const cursor = this.cursor\n\n        let min_index = (t_min &&\n            this.searchIndex(this.datastore.t2time(t_min).getTime()))\n        if (!min_index || min_index < 0) min_index = 0\n\n        let max_index = (t_max &&\n            this.searchIndex(this.datastore.t2time(t_max).getTime()))\n        if (!max_index || max_index < 0) max_index = this.times.length - 1\n\n        const step = 1\n\n        const times = this.times.slice(min_index, max_index)\n        // const times = []\n        // for (let i = min_index; i < max_index; i += step) {\n        //     times.push(this.times[i])\n        // }\n\n\n        this.cursor = cursor\n\n        return this.times\n    }\n\n    getValues(type: number, index: number = 0, t_min?: number, t_max?: number,\n              maxPoints?: number): number[] {\n        const cursor = this.cursor\n\n        if (!this.values[type] || !this.values[type][index]) return []\n\n        let min_index = (t_min &&\n            this.searchIndex(this.datastore.t2time(t_min).getTime()))\n        if (!min_index || min_index < 0) min_index = 0\n\n        let max_index = (t_max &&\n            this.searchIndex(this.datastore.t2time(t_max).getTime()))\n        if (!max_index || max_index < 0) max_index = this.times.length - 1\n\n        const step = 1\n\n        const values = this.values[type][index].slice(min_index, max_index)\n\n        // const values = []\n        // for (let i = min_index; i < max_index; i += step) {\n        //     values.push(this.values[type][index][i])\n        // }\n\n        this.cursor = cursor\n\n        return values\n    }\n\n    addPackets(packets: { packet: Packet, unixTime: number, source: string }[]) {\n        if (packets.length == 0) return\n        this.cursor = this.data.length - 1\n\n        packets.sort((a, b) => a.unixTime - b.unixTime)\n\n        const newValues: {[type: string]: number[][]} = {}\n\n        for (const p of packets) {\n            let index = 0\n            let prevType = ''\n            p.packet.entries.forEach((entry, n) => {\n                if (n == p.packet.entries.length - 1 && entry.type == \"t\") return\n                if (entry.type == prevType) index++\n                else index = 0\n                prevType = entry.type\n\n                const f = this.format?.entries[entry.type]\n                if (!f) return\n\n                if (!newValues[entry.type]) {\n                    newValues[entry.type] =\n                        new Array(f.index?.length ?? 1).fill(0).map(() => [])\n                }\n\n                newValues[entry.type][index].push(entry.formatNumber(f))\n            })\n        }\n\n        for (let i = 0; i < packets.length; i++) {\n            const insertAt = this.searchIndex(packets[i].unixTime)\n            if (this.data.length == 0 || insertAt == this.data.length - 1) {\n                this.data.push(...packets.slice(i))\n                this.times.push(...packets.slice(i).map(p =>\n                    this.datastore.time2t(new Date(p.unixTime))))\n                for (const type of Object.keys(this.format?.entries ?? {})) {\n                    newValues[type].forEach((values, index) => {\n                        this.values[type][index].push(...values.slice(i))\n                    })\n                }\n                break;\n            }\n            this.data.splice(insertAt + 1, 0, packets[i])\n            this.times.splice(insertAt + 1, 0,\n                              this.datastore.time2t(new Date(packets[i].unixTime)))\n            for (const type of Object.keys(this.format?.entries ?? {})) {\n                newValues[type].forEach((values, index) => {\n                    this.values[type][index].splice(insertAt + 1, 0, values[i])\n                })\n            }\n\n            this.cursor = insertAt\n        }\n\n        this.cursor = this.data.length - 1\n    }\n\n    searchIndex(unixTime: number): number {\n        if (this.data.length == 0) return 0\n\n        let step = 0.5\n        if (unixTime < this.data[this.cursor].unixTime) {\n            while (unixTime < this.data[this.cursor].unixTime) {\n                step *= 2\n                this.cursor -= step\n                if (this.cursor < 0) {\n                    this.cursor = 0\n                    return -1\n                }\n            }\n            step /= 2\n        }\n        else {\n            while (unixTime > this.data[this.cursor].unixTime) {\n                step *= 2\n                this.cursor += step\n                if (this.cursor >= this.data.length) {\n                    this.cursor = this.data.length - 1\n                    return this.data.length - 1\n                }\n            }\n            step /= 2\n        }\n\n        while (step >= 1) {\n            if (unixTime < this.data[this.cursor].unixTime)\n                this.cursor -= step\n            else if (unixTime > this.data[this.cursor].unixTime)\n                this.cursor += step\n            else break\n\n            step /= 2\n        }\n        if (unixTime < this.data[this.cursor].unixTime) this.cursor--;\n\n        return this.cursor\n    }\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, mergeProps as _mergeProps, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, createElementVNode as _createElementVNode, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"my-5\" }\nconst _hoisted_2 = { class: \"my-5\" }\nconst _hoisted_3 = { class: \"my-5\" }\nconst _hoisted_4 = { class: \"my-5\" }\nconst _hoisted_5 = { class: \"my-5\" }\n\nimport { ref, watch } from 'vue';\nimport VueDatePicker from '@vuepic/vue-datepicker';\nimport { api } from '../library/api'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FlightSettings',\n  props: ['flight'],\n  emits: ['update'],\n  setup(__props, { emit }) {\n\nconst p = __props;\n\nconst dialog = ref(false)\nconst form = ref(false)\nconst name = ref('')\nconst startTime = ref(new Date())\nconst launchTime = ref(null)\nconst endTime = ref(null)\nconst videos = ref([{}, {}])\n\n\n\n\n\n\nconst onSaveSetting = async () => {\n  console.log('save', videos.value)\n  const flight_ = await api.putFlight(\n    p.flight.id, name.value,\n    startTime.value, launchTime.value, endTime.value,\n    { videos: videos.value }\n  )\n  console.log('save', flight_)\n  emit('update', flight_)\n}\n\nwatch(p, (cr, prev) => {\n  name.value = cr.flight?.name\n  startTime.value = cr.flight.startTime\n  launchTime.value = cr.flight.launchTime\n  endTime.value = cr.flight.endTime\n  videos.value = cr.flight.data.videos ?? [{}, {}]\n})\n\nconst required = (v: any) => {\n  return !!v || 'Field is required'\n}\n\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card_title = _resolveComponent(\"v-card-title\")!\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\")!\n  const _component_v_form = _resolveComponent(\"v-form\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_v_dialog, {\n    modelValue: dialog.value,\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((dialog).value = $event)),\n    width: \"auto\",\n    class: \"overflow-visible\"\n  }, {\n    activator: _withCtx(({ props }) => [\n      _createVNode(_component_v_btn, _mergeProps(props, {\n        size: \"x-large\",\n        class: \"text-capitalize\"\n      }), {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(p.flight?.system?.name) + \" - \" + _toDisplayString(p.flight?.name), 1)\n        ]),\n        _: 2\n      }, 1040)\n    ]),\n    default: _withCtx(() => [\n      _createVNode(_component_v_card, {\n        class: \"px-10\",\n        width: \"600\",\n        \"min-height\": \"800\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_card_title, { class: \"my-5\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Settings \")\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_v_form, {\n            modelValue: form.value,\n            \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((form).value = $event)),\n            onSubmit: _withModifiers(onSaveSetting, [\"prevent\"])\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_text_field, {\n                modelValue: name.value,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((name).value = $event)),\n                label: \"Name\",\n                rules: [required]\n              }, null, 8, [\"modelValue\", \"rules\"]),\n              _createElementVNode(\"div\", _hoisted_1, [\n                _createTextVNode(\" Start time \"),\n                _createVNode(_unref(VueDatePicker), {\n                  modelValue: startTime.value,\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((startTime).value = $event)),\n                  \"enable-seconds\": \"\",\n                  dark: \"\"\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _createElementVNode(\"div\", _hoisted_2, [\n                _createTextVNode(\" Launch time \"),\n                _createVNode(_unref(VueDatePicker), {\n                  modelValue: launchTime.value,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((launchTime).value = $event)),\n                  \"enable-seconds\": \"\",\n                  dark: \"\"\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _createElementVNode(\"div\", _hoisted_3, [\n                _createTextVNode(\" End time \"),\n                _createVNode(_unref(VueDatePicker), {\n                  modelValue: endTime.value,\n                  \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((endTime).value = $event)),\n                  \"enable-seconds\": \"\",\n                  dark: \"\"\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _createElementVNode(\"div\", _hoisted_4, [\n                _createTextVNode(\" Video 1 \"),\n                _createVNode(_component_v_text_field, {\n                  modelValue: videos.value[0].url,\n                  \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((videos.value[0].url) = $event)),\n                  label: \"URL\"\n                }, null, 8, [\"modelValue\"]),\n                _createVNode(_unref(VueDatePicker), {\n                  modelValue: videos.value[0].startTime,\n                  \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((videos.value[0].startTime) = $event)),\n                  \"enable-seconds\": \"\",\n                  dark: \"\"\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _createElementVNode(\"div\", _hoisted_5, [\n                _createTextVNode(\" Video 2 \"),\n                _createVNode(_component_v_text_field, {\n                  modelValue: videos.value[1].url,\n                  \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((videos.value[1].url) = $event)),\n                  label: \"URL\"\n                }, null, 8, [\"modelValue\"]),\n                _createVNode(_unref(VueDatePicker), {\n                  modelValue: videos.value[1].startTime,\n                  \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((videos.value[1].startTime) = $event)),\n                  \"enable-seconds\": \"\",\n                  dark: \"\"\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _createVNode(_component_v_card_actions, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_spacer),\n                  _createVNode(_component_v_btn, {\n                    color: \"primary\",\n                    type: \"submit\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\" Save \")\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"modelValue\", \"onSubmit\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","import script from \"./FlightSettings.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FlightSettings.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\n\nimport { reactive, ref, onMounted, inject, computed, Ref, watch, ShallowRef, triggerRef } from 'vue';\nimport VueSlider from 'vue-slider-component'\nimport 'vue-slider-component/theme/default.css'\nimport { DataStore } from '../library/datastore'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FlightTimeline',\n  emits: ['change-chart-range', 'change-time'],\n  setup(__props, { emit }) {\n\nconst datastore = inject<ShallowRef<DataStore>>('datastore')\n\nconst playing = ref(false)\n\nconst toggle = ref(null)\n\nconst sliderRef = ref(null)\n\nconst slider = ref([])\nconst currentT = computed(() => slider.value[1])\n\nconst sliderMin = computed<number>(() => (datastore.value?.startT))\nconst sliderMax = computed<number>(() => datastore.value?.endT\n                                         ?? datastore.value?.nowT)\n\n\n\nconst dotOptions = [{ tooltip: 'active' },\n                    { tooltip: 'none' },\n                    { tooltip: 'active' }, ]\n\nconst marks = computed(() => {\n  const m = {}\n  if (datastore.value) {\n    m[currentT.value] = {\n      label: '',\n      style: {\n        width: '18px',\n        height: '18px',\n        display: 'block',\n        backgroundColor: '#2196F3',\n        transform: 'translate(-7px, -7px)'\n      },\n\n    }\n    m[Math.round(datastore.value.launchT).toString()] = {\n      label: 'Launch',\n      style: {\n        width: '8px',\n        height: '8px',\n        display: 'block',\n        backgroundColor: '#303030',\n        transform: 'translate(-2px, -2px)'\n      },\n    }\n  }\n  return m\n})\n\nconst process = (dotPos: number) => {\n  if (!datastore.value) return []\n  const earliestT = datastore.value.earliestT ?? datastore.value.startT\n  const latestT = datastore.value.latestT ?? datastore.value.endT\n                 ?? datastore.value.nowT\n  return [[sliderPercent(earliestT), sliderPercent(latestT),\n           { backgroundColor: '#2196F3' }]]\n}\n\nconst formatter = (t: number) => {\n  if (t == Math.min(slider.value[0], slider.value[2]))\n    return `Chart min: ${datastore.value?.showT(t)}`\n  else if (t == Math.max(slider.value[0], slider.value[2]))\n    return `Chart max: ${datastore.value?.showT(t)}`\n  else return ''\n}\n\nlet prevTimestamp = null\nlet liveT = null\n\nconst liveTimeline = (timestamp) => {\n  if (prevTimestamp) {\n    if (playing.value) {\n      liveT = slider.value[1] + (timestamp - prevTimestamp) / 1000.0\n      if (liveT > sliderMax.value) liveT = sliderMax.value\n      sliderRef.value.setValue([slider.value[0], liveT, slider.value[2]])\n    }\n  }\n  prevTimestamp = timestamp\n\n  requestAnimationFrame(liveTimeline)\n}\n\nonMounted(() => {\n  requestAnimationFrame(liveTimeline)\n})\n\nwatch(slider, (cr, prev) => {\n\n  if (cr[1] != prev[1]) {\n    if (cr[1] != liveT) {\n      // playing.value = false\n      // toggle.value = null\n    }\n    emit('change-time', datastore.value.t2time(currentT.value))\n  }\n\n  if (cr[0] != prev[0] || cr[2] != prev[2])\n    emit('change-chart-range',\n        {min: Math.min(cr[0], cr[2]), max: Math.max(cr[0], cr[2])})\n})\n\nwatch(toggle, (cr: number, prev: number) => {\n  if (cr == undefined) {\n    playing.value = false\n  }\n  else if (cr == 0) {\n    playing.value = false\n    toggle.value = null\n    sliderRef.value.setValue(\n      [slider.value[0], datastore.value.startT, slider.value[2]])\n  }\n  else if (cr == 1 && playing.value) {\n    playing.value = false\n    toggle.value = null\n  }\n  else if (cr == 1) playing.value = true\n  else if (cr == 2) {\n    sliderRef.value.setValue(\n      [slider.value[0], datastore.value.endT ?? datastore.value.nowT,\n       slider.value[2]])\n    playing.value = true\n  }\n})\n\n\nwatch(datastore, (cr, prev) => {\n  if (!prev) {\n    // console.log(prev, sliderMin.value, sliderMax.value)\n    slider.value = [\n      sliderMin.value,\n      datastore.value.endTime ? 0 : sliderMax.value,\n      sliderMax.value]\n  }\n})\n\nconst sliderPercent = (t: number) => {\n  const sliderRange = sliderMax.value - sliderMin.value\n  const p = (t - sliderMin.value) / sliderRange * 100.0\n  if (p < 0) return 0\n  else if (p > 100) return 100\n  else return p\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_btn_toggle = _resolveComponent(\"v-btn-toggle\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n\n  return (_openBlock(), _createBlock(_component_v_container, {\n    id: \"timeline\",\n    class: \"w-screen ma-0 pa-0\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_row, { align: \"center\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_col, { id: \"timeline-t\" }, {\n            default: _withCtx(() => [\n              (_unref(datastore))\n                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, _toDisplayString(_unref(datastore).showT(_unref(currentT))), 1))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_v_col, { \"align-self\": \"start\" }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(VueSlider), {\n                id: \"timeline-slider\",\n                modelValue: slider.value,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((slider).value = $event)),\n                ref_key: \"sliderRef\",\n                ref: sliderRef,\n                min: _unref(sliderMin),\n                max: _unref(sliderMax),\n                interval: 0.001,\n                process: process,\n                marks: _unref(marks),\n                \"dot-options\": dotOptions,\n                order: false,\n                \"enable-cross\": true,\n                \"drag-on-click\": true,\n                \"tooltip-placement\": 'top',\n                \"tooltip-formatter\": formatter,\n                \"dot-size\": [10,10],\n                duration: 0,\n                contained: true\n              }, null, 8, [\"modelValue\", \"min\", \"max\", \"interval\", \"marks\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_v_col, { id: \"timeline-control\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_btn_toggle, {\n                modelValue: toggle.value,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((toggle).value = $event)),\n                divided: \"\",\n                variant: \"outlined\",\n                color: \"primary\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_btn, { icon: \"mdi-skip-backward\" }),\n                  (!playing.value)\n                    ? (_openBlock(), _createBlock(_component_v_btn, {\n                        key: 0,\n                        icon: \"mdi-play\"\n                      }))\n                    : _createCommentVNode(\"\", true),\n                  (playing.value)\n                    ? (_openBlock(), _createBlock(_component_v_btn, {\n                        key: 1,\n                        icon: \"mdi-pause\"\n                      }))\n                    : _createCommentVNode(\"\", true),\n                  _createVNode(_component_v_btn, { icon: \"mdi-skip-forward\" })\n                ]),\n                _: 1\n              }, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./FlightTimeline.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FlightTimeline.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./FlightTimeline.vue?vue&type=style&index=0&id=26a46e7e&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, normalizeProps as _normalizeProps, guardReactiveProps as _guardReactiveProps, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"text-left\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"text-right text-error\"\n}\nconst _hoisted_3 = {\n  key: 1,\n  class: \"text-right text-warning\"\n}\nconst _hoisted_4 = {\n  key: 2,\n  class: \"text-right\"\n}\n\nimport { reactive, ref, onMounted, inject, computed, Ref, watch, ShallowRef } from 'vue'\nimport { DataStore, PacketInfo } from '../library/datastore'\nimport { Packet } from '../library/packet'\nimport * as settings from '../settings'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PacketList',\n  props: ['time'],\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst datastore = inject<ShallowRef<DataStore>>('datastore')\n\nconst initialOpen = {}\nsettings.packetList.forEach(list => {\n  initialOpen[list.from] = list.ids\n})\n\nconst open = ref(initialOpen)\n\nconst packets = computed(() => {\n  if (!datastore.value) return []\n  return settings.packetList.map(list => {\n    const data = list.ids.map(id =>\n      datastore.value.getBy(list.from, id)?.at(props.time ?? new Date())\n    ).filter(p => p)\n    return { data: data, from: list.from, name: list.name }\n  })\n})\n\n\nwatch(packets, () => {\n  // console.log('packets', packets.value)\n})\n\n\nconst packetEntries = (format: any, packet: Packet) => {\n  const entries = []\n  let index = 0;\n  let prevType = ''\n  packet.entries.forEach((entry, n) => {\n    if (n == packet.entries.length - 1 && entry.type == \"t\") return\n\n    if (entry.type == prevType) index++\n    else index = 0\n    prevType = entry.type\n\n    const f = format?.entries[entry.type]\n    if (f) {\n      let title = f.name\n      if (f.index) title += ` (${f.index[index]})`\n      if (f.unit) title += ` [${f.unit}]`\n\n      const value = entry.format(f)\n\n      entries.push({\n        title: title,\n        value: value,\n        error: f.error && f.error(value),\n        warning: f.warning && f.warning(value),\n      })\n    }\n    else {\n      entries.push({\n        title: entry.type,\n        value: entry.payload.int32,\n        error: \"Unknown entry\",\n        warning: null,\n      })\n    }\n  })\n  return entries\n}\n\nconst timeout = (p: PacketInfo) => {\n  if (!p.format.timeout) return 0\n  const t = datastore.value.time2t(props.time) - p.t\n  if (t > p.format.timeout) return t\n  else return 0\n}\n\nconst error = (p: PacketInfo) => {\n  if (p.format.error && p.format.error(p.packet)) return true\n  return p.packet.entries.some(entry => {\n    const f = p.format.entries[entry.type]\n    if (entry.type != 't' && !f) return true\n    return f && f.error && f.error(entry.format(f))\n  })\n}\n\n\nconst warning = (p: PacketInfo) => {\n  if (p.format.warning && p.format.warning(p.packet)) return true\n  return p.packet.entries.some(entry => {\n    const f = p.format.entries[entry.type]\n    return f && f.warning && f.warning(entry.format(f))\n  })\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_card_title = _resolveComponent(\"v-card-title\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card_item = _resolveComponent(\"v-card-item\")!\n  const _component_v_list_item_title = _resolveComponent(\"v-list-item-title\")!\n  const _component_v_list_item_subtitle = _resolveComponent(\"v-list-item-subtitle\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_tooltip = _resolveComponent(\"v-tooltip\")!\n  const _component_v_table = _resolveComponent(\"v-table\")!\n  const _component_v_list_group = _resolveComponent(\"v-list-group\")!\n  const _component_v_list = _resolveComponent(\"v-list\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(packets), (list, i) => {\n    return (_openBlock(), _createBlock(_component_v_card, { key: i }, {\n      default: _withCtx(() => [\n        _createVNode(_component_v_card_item, null, {\n          prepend: _withCtx(() => [\n            (list.data.some(p => !p.packet))\n              ? (_openBlock(), _createBlock(_component_v_icon, {\n                  key: 0,\n                  icon: \"mdi-help-circle\"\n                }))\n              : (list.data.some(error))\n                ? (_openBlock(), _createBlock(_component_v_icon, {\n                    key: 1,\n                    color: \"error\",\n                    icon: \"mdi-alert-circle\"\n                  }))\n                : (list.data.some(warning))\n                  ? (_openBlock(), _createBlock(_component_v_icon, {\n                      key: 2,\n                      color: \"warning\",\n                      icon: \"mdi-alert\"\n                    }))\n                  : (list.data.some(timeout))\n                    ? (_openBlock(), _createBlock(_component_v_icon, {\n                        key: 3,\n                        color: \"warning\",\n                        icon: \"mdi-clock-alert-outline\"\n                      }))\n                    : (_openBlock(), _createBlock(_component_v_icon, {\n                        key: 4,\n                        icon: \"mdi-check\",\n                        color: \"primary\"\n                      }))\n          ]),\n          append: _withCtx(() => [\n            _createVNode(_component_v_btn, {\n              density: \"compact\",\n              icon: \"mdi-dots-vertical\"\n            })\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_component_v_card_title, null, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(list.name), 1)\n              ]),\n              _: 2\n            }, 1024)\n          ]),\n          _: 2\n        }, 1024),\n        _createVNode(_component_v_card_text, { class: \"pa-0\" }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_list, {\n              opened: open.value[list.from],\n              \"onUpdate:opened\": ($event: any) => ((open.value[list.from]) = $event)\n            }, {\n              default: _withCtx(() => [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(list.data, (p) => {\n                  return (_openBlock(), _createBlock(_component_v_list_group, {\n                    key: p.id,\n                    value: p.id\n                  }, {\n                    activator: _withCtx(({ props }) => [\n                      _createVNode(_component_v_list_item, _normalizeProps(_guardReactiveProps(props)), {\n                        prepend: _withCtx(() => [\n                          (!p.packet)\n                            ? (_openBlock(), _createBlock(_component_v_icon, {\n                                key: 0,\n                                icon: \"mdi-help-circle\"\n                              }))\n                            : (error(p))\n                              ? (_openBlock(), _createBlock(_component_v_icon, {\n                                  key: 1,\n                                  color: \"error\",\n                                  icon: \"mdi-alert-circle\"\n                                }))\n                              : (warning(p))\n                                ? (_openBlock(), _createBlock(_component_v_icon, {\n                                    key: 2,\n                                    color: \"warning\",\n                                    icon: \"mdi-alert\"\n                                  }))\n                                : (timeout(p))\n                                  ? (_openBlock(), _createBlock(_component_v_icon, {\n                                      key: 3,\n                                      color: \"warning\",\n                                      icon: \"mdi-clock-alert-outline\"\n                                    }))\n                                  : (_openBlock(), _createBlock(_component_v_icon, {\n                                      key: 4,\n                                      icon: \"mdi-check\",\n                                      color: \"primary\"\n                                    }))\n                        ]),\n                        default: _withCtx(() => [\n                          _createVNode(_component_v_list_item_title, null, {\n                            default: _withCtx(() => [\n                              _createTextVNode(_toDisplayString(p.format.name), 1)\n                            ]),\n                            _: 2\n                          }, 1024),\n                          (p.packet)\n                            ? (_openBlock(), _createBlock(_component_v_list_item_subtitle, { key: 0 }, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(_toDisplayString(_unref(datastore).showT(p.t)) + \" #\" + _toDisplayString(p.count) + \" \" + _toDisplayString(p.source), 1)\n                                ]),\n                                _: 2\n                              }, 1024))\n                            : _createCommentVNode(\"\", true),\n                          (!p.packet)\n                            ? (_openBlock(), _createBlock(_component_v_list_item_subtitle, { key: 1 }, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(\" N/A \")\n                                ]),\n                                _: 1\n                              }))\n                            : _createCommentVNode(\"\", true)\n                        ]),\n                        _: 2\n                      }, 1040)\n                    ]),\n                    default: _withCtx(() => [\n                      (p.packet)\n                        ? (_openBlock(), _createBlock(_component_v_table, {\n                            key: 0,\n                            density: \"compact\"\n                          }, {\n                            default: _withCtx(() => [\n                              _createElementVNode(\"tbody\", null, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(packetEntries(p.format, p.packet), (entry, i) => {\n                                  return (_openBlock(), _createBlock(_component_v_tooltip, {\n                                    key: i,\n                                    text: entry.error || entry.warning || ''\n                                  }, {\n                                    activator: _withCtx(({ props }) => [\n                                      _createElementVNode(\"tr\", _normalizeProps(_guardReactiveProps((entry.error || entry.warning) && props)), [\n                                        _createElementVNode(\"td\", _hoisted_1, _toDisplayString(entry.title), 1),\n                                        (entry.error)\n                                          ? (_openBlock(), _createElementBlock(\"td\", _hoisted_2, _toDisplayString(entry.value), 1))\n                                          : (entry.warning)\n                                            ? (_openBlock(), _createElementBlock(\"td\", _hoisted_3, _toDisplayString(entry.value), 1))\n                                            : (_openBlock(), _createElementBlock(\"td\", _hoisted_4, _toDisplayString(entry.value), 1))\n                                      ], 16)\n                                    ]),\n                                    _: 2\n                                  }, 1032, [\"text\"]))\n                                }), 128))\n                              ])\n                            ]),\n                            _: 2\n                          }, 1024))\n                        : _createCommentVNode(\"\", true)\n                    ]),\n                    _: 2\n                  }, 1032, [\"value\"]))\n                }), 128))\n              ]),\n              _: 2\n            }, 1032, [\"opened\", \"onUpdate:opened\"])\n          ]),\n          _: 2\n        }, 1024)\n      ]),\n      _: 2\n    }, 1024))\n  }), 128))\n}\n}\n\n})","import script from \"./PacketList.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PacketList.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"w-100\"\n}\n\nimport { computed, inject, Ref, ShallowRef } from 'vue'\nimport {\n  Chart as ChartJS,\n  Title,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Tooltip,\n  Legend,\n  Colors,\n} from 'chart.js'\nimport { Scatter } from 'vue-chartjs'\nimport { DataStore } from '../library/datastore'\nimport * as settings from '../settings'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ChartList',\n  props: ['range'],\n  setup(__props) {\n\nconst props = __props;\n\nChartJS.register(Title, LinearScale, PointElement, LineElement, Tooltip, Legend, Colors)\n\nChartJS.defaults.color = '#FFFFFF'\nChartJS.defaults.borderColor = '#888888'\n\nconst datastore = inject<ShallowRef<DataStore>>('datastore')\n\n\n\nconst maxPoints = 100\n\nconst charts = computed(() => {\n  if (!datastore.value) return []\n  return settings.charts.map(config => {\n    return {\n      config: config,\n      data: {\n        datasets: config.y.map(y => {\n          const from = y[0]\n          const id = y[1]\n          const type = y[2]\n          const index = y[3] ?? 0\n          const format = settings.packetFormats[id]?.entries[type]\n          const dataseries = datastore.value.getBy(from, id, props.range?.min,\n                                                   props.range.max, maxPoints)\n          const data = []\n          const times = dataseries.getTimes(props.range?.min, props.range.max,\n                                            maxPoints)\n          const values = dataseries.getValues(type, index)\n          for (let i = 0; i < times.length; i++) {\n            data.push({x: times[i], y: values[i]})\n          }\n          let name = format?.name\n          if (format?.index) name += ` (${format.index[index]})`\n          return {\n            label: name,\n            data: data,\n            showLine: true,\n            fill: false,\n            pointRadius: 0,\n          }\n        }),\n      },\n      options: {\n        aspectRatio: 1.5,\n        animation: false,\n        plugins: {\n          title: {\n            display: false,\n            text: config.title,\n          },\n        },\n        scales: {\n          x: {\n            title: {\n              display: true,\n              text: 't [s]',\n            },\n            min: props.range?.min,\n            max: props.range?.max,\n          },\n          y: {\n            title: {\n              display: true,\n              text: config.yLabel,\n            },\n          }\n        },\n        legend: {\n          display: config.y.length > 1\n        },\n        parsing: false,\n        normalized: true,\n        spanGaps: true,\n      },\n    }\n  })\n})\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_card_item = _resolveComponent(\"v-card-item\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(charts), (chart, i) => {\n    return (_openBlock(), _createBlock(_component_v_card, {\n      key: i,\n      class: \"w-100\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_v_card_item, { class: \"pb-0\" }, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(chart.config.title), 1)\n          ]),\n          _: 2\n        }, 1024),\n        (chart.data)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n              _createVNode(_unref(Scatter), {\n                data: chart.data,\n                options: chart.options,\n                class: \"pa-3 pt-0\"\n              }, null, 8, [\"data\", \"options\"])\n            ]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 2\n    }, 1024))\n  }), 128))\n}\n}\n\n})","import script from \"./ChartList.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ChartList.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, withCtx as _withCtx, resolveComponent as _resolveComponent } from \"vue\"\n\nimport { ref, reactive, inject, ShallowRef, computed, watch, watchEffect\n} from 'vue'\nimport \"leaflet/dist/leaflet.css\";\nimport { LMap, LTileLayer, LControlScale, LPolyline, LCircleMarker,\n} from \"@vue-leaflet/vue-leaflet\";\nimport { DataStore } from '../library/datastore'\nimport * as settings from '../settings'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FlightMap',\n  props: ['time'],\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst datastore = inject<ShallowRef<DataStore>>('datastore')\n\nconst map = ref(null)\n\nconst zoom = ref(18)\nconst center = ref([35.7061, 139.7071])\n\nconst markers = computed(() => {\n  if (!datastore.value) return []\n  return settings.mapPaths.flatMap(path => {\n    const packet = datastore.value.getBy(path.from, path.id)\n                            .at(props.time ?? new Date())?.packet\n    if (!packet) return []\n    const format = settings.packetFormats[path.id]\n    const lat = packet.get(path.lat)?.formatNumber(format.entries[path.lat])\n    const lon = packet.get(path.lon)?.formatNumber(format.entries[path.lon])\n    if (!lat || !lon) return []\n    return [{\n      latlon: [lat, lon],\n      color: path.markerColor ?? path.color,\n    }]\n  })\n})\n\nconst paths = computed(() => {\n  if (!datastore.value) return []\n  return settings.mapPaths.map(path => {\n    const ds = datastore.value.getBy(path.from, path.id)\n    const lats = ds.getValues(path.lat)\n    const lons = ds.getValues(path.lon)\n    return {\n      latlons: lats.map((l, i) => [l, lons[i]]),\n      name: path.name,\n      color: path.color,\n    }\n  })\n})\n\nlet initialized = false\n\nwatchEffect(() => {\n  if (!initialized) {\n    if (paths.value[0] && paths.value[0].latlons[0]\n        && map.value && map.value.leafletObject) {\n      map.value.leafletObject.flyTo(paths.value[0].latlons[0], 18)\n      initialized = true\n    }\n  }\n})\n\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, {\n    class: \"w-100\",\n    style: {\"padding-top\":\"100%\",\"position\":\"relative\"}\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_unref(LMap), {\n        ref_key: \"map\",\n        ref: map,\n        zoom: zoom.value,\n        \"onUpdate:zoom\": _cache[0] || (_cache[0] = ($event: any) => ((zoom).value = $event)),\n        center: center.value,\n        style: {\"position\":\"absolute\",\"top\":\"0\"}\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(LTileLayer), {\n            url: \"https://cyberjapandata.gsi.go.jp/xyz/seamlessphoto/{z}/{x}/{y}.jpg\",\n            \"layer-type\": \"base\",\n            name: \"OpenStreetMap\"\n          }),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(paths), (path, i) => {\n            return (_openBlock(), _createBlock(_unref(LPolyline), {\n              key: i,\n              \"lat-lngs\": path.latlons,\n              color: path.color\n            }, null, 8, [\"lat-lngs\", \"color\"]))\n          }), 128)),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(markers), (marker, i) => {\n            return (_openBlock(), _createBlock(_unref(LCircleMarker), {\n              key: i,\n              \"lat-lng\": marker.latlon,\n              radius: 15,\n              color: marker.color\n            }, null, 8, [\"lat-lng\", \"color\"]))\n          }), 128)),\n          _createVNode(_unref(LControlScale), {\n            position: \"topright\",\n            imperial: false,\n            metric: true\n          })\n        ]),\n        _: 1\n      }, 8, [\"zoom\", \"center\"])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./FlightMap.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FlightMap.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"src\"]\n\nimport { ref, watch, onMounted } from 'vue'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'VideoPlayer',\n  props: ['video', 'time'],\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst videoElement = ref(null)\n\nlet playing = false\n\nconst controlPlaying = () => {\n  if (!videoElement.value) return\n  let requestT = (props.time.getTime()\n                - new Date(props.video.startTime).getTime()) / 1000.0\n  if (requestT < 0) requestT = 0\n  else if (requestT > videoElement.value.duration)\n    requestT = videoElement.value.duration\n\n  const playingT = videoElement.value.currentTime\n\n  if (Math.abs(requestT - playingT) > 0.1) {\n    videoElement.value.currentTime = requestT\n    if (playing) {\n      videoElement.value.pause()\n      playing = false\n    }\n  }\n}\n\nonMounted(() => {\n  setInterval(controlPlaying, 500)\n})\n\nlet lastTimeChanged = 0\nwatch(() => props.time, (cr, prev) => {\n  if (!playing) {\n    const now = new Date().getTime()\n    if (Math.abs((cr.getTime() - prev.getTime()) - (now - lastTimeChanged))\n      < 10) {\n      let requestT = (props.time.getTime()\n                    - new Date(props.video.startTime).getTime()) / 1000.0\n      if (0 <= requestT && requestT < videoElement.value.duration) {\n        videoElement.value.play()\n        playing = true\n      }\n    }\n    lastTimeChanged = now\n  }\n})\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"video\", {\n    ref_key: \"videoElement\",\n    ref: videoElement,\n    src: __props.video.url,\n    class: \"w-100\"\n  }, null, 8, _hoisted_1))\n}\n}\n\n})","import script from \"./VideoPlayer.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./VideoPlayer.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"system h-screen overflow-hidden\" }\n\nimport { reactive, ref, onMounted, inject, provide, computed,\n         getCurrentInstance, watch, shallowRef, triggerRef} from 'vue';\nimport { useRoute, useRouter, onBeforeRouteLeave } from 'vue-router'\nimport axios from 'axios'\nimport { Flight, System, api } from '../library/api'\nimport { DataStore } from '../library/datastore'\nimport '@/library/packet'\nimport { Packet } from '../library/packet'\nimport LoginModal from '../components/LoginModal'\nimport FlightSettings from '../components/FlightSettings'\nimport FlightTimeline from '../components/FlightTimeline'\nimport PacketList from '../components/PacketList'\nimport ChartList from '../components/ChartList'\nimport FlightMap from '../components/FlightMap'\nimport VideoPlayer from '../components/VideoPlayer'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FlightView',\n  setup(__props) {\n\nconst datastore = shallowRef<DataStore | undefined>(undefined)\n\nconst flight = computed<Flight>(() => datastore.value?.flight)\nconst system = computed<System | undefined>(() => flight.value?.system)\n\nprovide('datastore', datastore)\n\nconst currentTime = ref(new Date())\nconst chartRange = ref({})\n\nlet connection = undefined\n\nconst route = useRoute()\nconst router = useRouter()\n\nconst instance = getCurrentInstance()\n\nonMounted(async () => {\n  try {\n    const flight = await api.getFlight(route.query.id)\n    datastore.value = new DataStore(flight)\n    datastore.value.currentTime = flight.startTime\n\n    connection = await api.connect(flight.id, 'web',\n                                   flight.startTime, undefined,\n                                   onReceive)\n    console.log('flight', flight, connection)\n  }\n  catch {\n    console.log('unknown flight', inject('systemId'), route.query.id)\n    router.push('/systems')\n  }\n})\n\nonBeforeRouteLeave((to, from) => {\n  connection?.close()\n})\n\nconst onReceive = (packets: {packet: Packet, time: Date, source: string }[]) => {\n  console.log('received', packets.length)\n  datastore.value.addPackets(packets)\n  triggerRef(datastore)\n}\n\nconst onUpdateFlight = async (flight_) => {\n  datastore.value.flight = flight_\n  triggerRef(datastore)\n}\n\nconst onLogin = (newSystem) => {\n  flight.value.system = newSystem\n}\n\nconst onChangeTime = (time) => {\n  currentTime.value = time\n}\n\nconst onChangeChartRange = (range) => {\n  chartRange.value = range\n}\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_app_bar = _resolveComponent(\"v-app-bar\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_main = _resolveComponent(\"v-main\")!\n  const _component_v_footer = _resolveComponent(\"v-footer\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_v_app_bar, {\n      color: \"primary\",\n      height: \"40\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_v_btn, {\n          icon: \"mdi-arrow-left\",\n          to: '/'\n        }),\n        _createVNode(_component_v_spacer),\n        _createVNode(_unref(FlightSettings), {\n          flight: _unref(flight),\n          onUpdate: onUpdateFlight\n        }, null, 8, [\"flight\"]),\n        _createVNode(_component_v_spacer),\n        _createVNode(_unref(LoginModal), {\n          system: _unref(system),\n          onLogin: onLogin\n        }, null, 8, [\"system\"])\n      ]),\n      _: 1\n    }),\n    (_unref(flight))\n      ? (_openBlock(), _createBlock(_component_v_main, {\n          key: 0,\n          class: \"h-100 overflow-hidden\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_container, { class: \"ma-0 w-screen h-100\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_row, { class: \"h-100\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_container, {\n                      id: \"graphics-panel\",\n                      class: \"ma-0 pa-0 h-100\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_row, { class: \"h-100 ma-0\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_col, { class: \"pa-3 pr-1\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_row, { class: \"w-100 pb-4 ma-0\" }, {\n                                  default: _withCtx(() => [\n                                    (_unref(flight).data?.videos?.at(0))\n                                      ? (_openBlock(), _createBlock(_unref(VideoPlayer), {\n                                          key: 0,\n                                          video: _unref(flight).data.videos[0],\n                                          time: currentTime.value\n                                        }, null, 8, [\"video\", \"time\"]))\n                                      : _createCommentVNode(\"\", true)\n                                  ]),\n                                  _: 1\n                                }),\n                                _createVNode(_component_v_row, { class: \"w-100 pb-4 ma-0\" }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_unref(FlightMap), { time: currentTime.value }, null, 8, [\"time\"])\n                                  ]),\n                                  _: 1\n                                })\n                              ]),\n                              _: 1\n                            }),\n                            _createVNode(_component_v_col, {\n                              class: \"h-100 pa-3 pr-1\",\n                              style: {\"display\":\"flex\",\"flex-direction\":\"column\"}\n                            }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_row, {\n                                  class: \"w-100 pb-4 ma-0\",\n                                  style: {\"flex-grow\":\"0\"}\n                                }, {\n                                  default: _withCtx(() => [\n                                    (_unref(flight).data?.videos?.at(1))\n                                      ? (_openBlock(), _createBlock(_unref(VideoPlayer), {\n                                          key: 0,\n                                          video: _unref(flight).data.videos[1],\n                                          time: currentTime.value\n                                        }, null, 8, [\"video\", \"time\"]))\n                                      : _createCommentVNode(\"\", true)\n                                  ]),\n                                  _: 1\n                                }),\n                                _createVNode(_component_v_row, {\n                                  class: \"overflow-y-auto w-100 ma-0\",\n                                  style: {\"flex-grow\":\"1\",\"padding-bottom\":\"50px\"}\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_unref(ChartList), { range: chartRange.value }, null, 8, [\"range\"])\n                                  ]),\n                                  _: 1\n                                })\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_col, {\n                      id: \"packets-panel\",\n                      class: \"overflow-y-auto h-100 pb-16\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_card, null, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(PacketList), { time: currentTime.value }, null, 8, [\"time\"])\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_component_v_footer, {\n      fixed: \"\",\n      elevation: \"20\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_unref(FlightTimeline), {\n          onChangeChartRange: onChangeChartRange,\n          onChangeTime: onChangeTime\n        })\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","import script from \"./FlightView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FlightView.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./FlightView.vue?vue&type=style&index=0&id=52319a9e&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\nimport SystemListView from '../views/SystemListView.vue'\nimport SystemView from '../views/SystemView.vue'\nimport FlightView from '../views/FlightView.vue'\nimport * as settings from '../settings'\n\n\nconst base = process.env.NODE_ENV == 'development' ? '/' : settings.basePath\n\n\nconst routes = [\n  {\n    path: '/',\n    name: 'system',\n    component: SystemView\n  },\n  {\n    path: '/systems',\n    name: 'systemlist',\n    component: SystemListView\n  },\n  {\n    path: '/flight',\n    name: 'flight',\n    component: FlightView\n  },\n\n]\n\nconsole.log(process.env.BASE_URL)\n\nconst router = createRouter({\n    history: createWebHistory(base),\n    routes\n})\n\nexport default router\n","// import './plugins/axios'\nimport { createApp } from 'vue'\nimport App from './App.vue'\nimport vuetify from './plugins/vuetify'\nimport { loadFonts } from './plugins/webfontloader'\nimport router from './router'\nimport axios from 'axios'\nimport '@mdi/font/css/materialdesignicons.css'\nimport * as settings from './settings'\n\n\nloadFonts()\n\ndeclare module '@vue/runtime-core' {\n    interface ComponentCustomProperties {\n        $system_id: string;\n        $password?: string;\n    }\n}\n\nconsole.log('mode', process.env.NODE_ENV, settings)\n\nconst app = createApp(App)\napp.provide('systemId', settings.systemId)\n\napp.use(router)\n  .use(vuetify)\n  .mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + (chunkId === 461 ? \"webfontloader\" : chunkId) + \".\" + {\"93\":\"7d4448a4\",\"153\":\"41807072\",\"431\":\"704be2dd\",\"461\":\"e506e2ed\",\"858\":\"8e1c553f\",\"891\":\"c2316474\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"telemeter:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktelemeter\"] = self[\"webpackChunktelemeter\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(1833); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_v_app","_createVNode","_component_router_view","script","__exports__","render","customTheme","dark","colors","primary","background","surface","secondary","info","success","error","warning","createVuetify","theme","defaultTheme","themes","async","loadFonts","webFontLoader","load","google","families","systemId","apiEndpoint","wsEndpoint","apiEndpointDev","wsEndpointDev","basePath","formatLatOrLon","v","degrees","Math","trunc","decimal","abs","packetFormats","name","entries","datatype","index","unit","timeout","format","n","t","packetList","from","ids","charts","title","y","yLabel","mapPaths","id","lat","lon","color","markerColor","Payload","constructor","_defineProperty","this","raw","ArrayBuffer","view","DataView","size","int8","getInt8","int16","getInt16","int32","getInt32","uint8","getUint8","uint16","getUint16","uint32","getUint32","float16","value16","value32","sign","exp","frac","buffer","setUint32","getFloat32","float32","value","setInt8","setInt16","setInt32","setUint8","setUint16","setFloat32","max","min","Entry","type","payload","encode","len","charCodeAt","decode","version","String","fromCharCode","formatNumber","f","Number","toPrecision","Packet","get","i","prev_type","entry","getTime","at","entry_view","static","undefined","packet","push","file","readFileAsArrayBuffer","decodeCOBS","buf","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsArrayBuffer","map","byteLength","encoded","Uint8Array","decoded_buf","decoded","next_zero","src","rest","dest","zero","API_URL","settings","WS_URL","axios","API","response","data","systems","params","password","localStorage","system","flights","makeFlight","activate","startTime","launchTime","endTime","JSON","stringify","flightId","source","callback","Connection","open","flight","flight_","Object","assign","Date","parse","MAX_UPDATE_PER_SECOND","receivedPackets","URLSearchParams","append","toISOString","socket","WebSocket","toString","binaryType","onopen","e","console","onmessage","onMessage","onclose","log","timer","setInterval","length","send","time","unixTime","setBigInt64","BigInt","set","getBigInt64","apply","Array","split","close","clearInterval","api","_hoisted_1","class","_defineComponent","__name","setup","__props","ref","dialog","form","new_system","reactive","client","onMounted","getSystems","onRegisterNewSystem","putSystem","required","_ctx","_cache","_openBlock","_createElementBlock","_component_v_app_bar","height","elevation","default","_withCtx","_component_v_app_bar_title","_createTextVNode","_","_component_v_main","_component_v_container","fluid","_Fragment","_renderList","_component_v_card","width","key","href","_component_v_img","_component_v_card_title","_toDisplayString","_component_v_card_subtitle","_component_v_card_text","_component_v_row","_component_v_dialog","modelValue","$event","activator","props","_component_v_col","_component_v_btn","_mergeProps","icon","_component_v_form","onSubmit","_withModifiers","_component_v_text_field","label","rules","_component_v_card_actions","_component_v_spacer","onClick","disabled","emits","emit","p","onLogin","getSystem","admin","_createCommentVNode","_hoisted_2","activeFlight","computed","find","pastFlights","filter","newFlight","upload","origin","router","useRouter","inject","allFlights","getFlights","newSystem","onNewFlight","postFlight","onUpload","packets","decodeLogFile","connection","connect","deactivateFlight","putFlight","reactivateFlight","activateFlight","sourceName","charactor","showDatetime","str","date","toLocaleString","to","_unref","LoginModal","_component_v_list","_component_v_list_subheader","variant","_component_v_list_item","_createSlots","prepend","_component_v_icon","_component_v_list_item_title","textContent","_component_v_list_item_subtitle","fn","_component_v_divider","inset","_createElementVNode","VueDatePicker","_component_v_file_input","_component_v_select","items","DataStore","startT","time2t","launchT","endT","nowT","earliestT","mapDataseries","d","earliest","isFinite","latestT","latest","values","dataseries","flatMap","ds","getBy","DataSeries","addPackets","packetsByFromAndId","packetsById","showT","t_","text","millis","round","seconds","floor","minutes","hours","days","padStart","t2time","sources","keys","sourceAvailables","datastore","count","cursor","times","fill","searchIndex","getTimes","t_min","t_max","maxPoints","min_index","max_index","slice","getValues","sort","a","b","newValues","prevType","forEach","insertAt","splice","step","_hoisted_3","_hoisted_4","_hoisted_5","videos","onSaveSetting","watch","cr","prev","url","playing","toggle","sliderRef","slider","currentT","sliderMin","sliderMax","dotOptions","tooltip","marks","m","style","display","backgroundColor","transform","process","dotPos","sliderPercent","formatter","prevTimestamp","liveT","liveTimeline","timestamp","setValue","requestAnimationFrame","sliderRange","align","VueSlider","ref_key","interval","order","duration","contained","_component_v_btn_toggle","divided","initialOpen","list","packetEntries","some","_component_v_card_item","density","opened","_component_v_list_group","_normalizeProps","_guardReactiveProps","_component_v_table","_component_v_tooltip","ChartJS","Title","LinearScale","PointElement","LineElement","Tooltip","Legend","Colors","config","datasets","range","x","showLine","pointRadius","options","aspectRatio","animation","plugins","scales","legend","parsing","normalized","spanGaps","chart","Scatter","zoom","center","markers","path","latlon","paths","lats","lons","latlons","l","initialized","watchEffect","leafletObject","flyTo","LMap","LTileLayer","LPolyline","marker","LCircleMarker","radius","LControlScale","position","imperial","metric","videoElement","controlPlaying","requestT","video","playingT","currentTime","pause","lastTimeChanged","now","play","shallowRef","provide","chartRange","route","useRoute","getCurrentInstance","getFlight","query","onReceive","onBeforeRouteLeave","triggerRef","onUpdateFlight","onChangeTime","onChangeChartRange","FlightSettings","onUpdate","VideoPlayer","FlightMap","ChartList","PacketList","_component_v_footer","fixed","FlightTimeline","base","routes","component","SystemView","SystemListView","FlightView","createRouter","history","createWebHistory","app","createApp","App","use","vuetify","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","r","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","obj","__proto__","mode","then","ns","create","def","current","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","chunkId","all","reduce","promises","u","miniCssF","g","globalThis","Function","window","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","done","needAttach","scripts","document","getElementsByTagName","s","getAttribute","createElement","charset","nc","setAttribute","onScriptComplete","event","clearTimeout","doneFns","parentNode","removeChild","setTimeout","bind","target","head","appendChild","Symbol","toStringTag","installedChunks","installedChunkData","promise","Error","loadingEnded","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}